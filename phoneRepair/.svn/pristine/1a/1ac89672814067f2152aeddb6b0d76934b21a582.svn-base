define("component:components/webuploader/dollar-third.js",function(o,e,n){var r=o("component:components/jquery/jquery.js");if(!r)throw new Error("jQuery or Zepto not found!");n.exports=r});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/dollar-third__7aa1383.map
;define("component:components/webuploader/dollar.js",function(o,e,n){var p=o("component:components/webuploader/dollar-third.js");n.exports=p});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/dollar__afe5096.map
;define("component:components/webuploader/promise-third.js",function(e,n,o){var r=e("component:components/webuploader/dollar.js");o.exports={Deferred:r.Deferred,when:r.when,isPromise:function(e){return e&&"function"==typeof e.then}}});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/promise-third__b3a6904.map
;define("component:components/webuploader/promise.js",function(o,e,n){var p=o("component:components/webuploader/promise-third.js");n.exports=p});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/promise__a865c37.map
;define("component:components/webuploader/base.js",function(t,e,n){function r(t){return function(){return s.apply(t,arguments)}}function o(t,e){return function(){return t.apply(e,arguments)}}function a(t){var e;return Object.create?Object.create(t):(e=function(){},e.prototype=t,new e)}var i=t("component:components/webuploader/dollar.js"),c=t("component:components/webuploader/promise.js"),u=function(){},s=Function.call;n.exports={version:"@version@",$:i,Deferred:c.Deferred,isPromise:c.isPromise,when:c.when,browser:function(t){var e={},n=t.match(/WebKit\/([\d.]+)/),r=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),o=t.match(/MSIE\s([\d\.]+)/)||t.match(/(?:trident)(?:.*rv:([\w.]+))?/i),a=t.match(/Firefox\/([\d.]+)/),i=t.match(/Safari\/([\d.]+)/),c=t.match(/OPR\/([\d.]+)/);return n&&(e.webkit=parseFloat(n[1])),r&&(e.chrome=parseFloat(r[1])),o&&(e.ie=parseFloat(o[1])),a&&(e.firefox=parseFloat(a[1])),i&&(e.safari=parseFloat(i[1])),c&&(e.opera=parseFloat(c[1])),e}(navigator.userAgent),os:function(t){var e={},n=t.match(/(?:Android);?[\s\/]+([\d.]+)?/),r=t.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(e.android=parseFloat(n[1])),r&&(e.ios=parseFloat(r[1].replace(/_/g,"."))),e}(navigator.userAgent),inherits:function(t,e,n){var r;return"function"==typeof e?(r=e,e=null):r=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i.extend(!0,r,t,n||{}),r.__super__=t.prototype,r.prototype=a(t.prototype),e&&i.extend(!0,r.prototype,e),r},noop:u,bindFn:o,log:function(){return window.console?o(console.log,console):u}(),nextTick:function(){return function(t){setTimeout(t,1)}}(),slice:r([].slice),guid:function(){var t=0;return function(e){for(var n=(+new Date).toString(32),r=0;5>r;r++)n+=Math.floor(65535*Math.random()).toString(32);return(e||"wu_")+n+(t++).toString(32)}}(),formatSize:function(t,e,n){var r;for(n=n||["B","K","M","G","TB"];(r=n.shift())&&t>1024;)t/=1024;return("B"===r?t:t.toFixed(e||2))+r}}});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/base__390f65e.map
;define("component:components/webuploader/dollar-builtin.js",function(t,n,e){function r(t,n){var e;if("function"!=typeof t&&"number"==typeof t.length){for(e=0;e<t.length;e++)if(n.call(t[e],e,t[e])===!1)return t}else for(e in t)if(p.call(t,e)&&n.call(t[e],e,t[e])===!1)return t;return t}function o(t,n,e){r(n,function(n,r){e&&"object"==typeof r?("object"!=typeof t[n]&&(t[n]="array"===u(r)?[]:{}),o(t[n],r,e)):t[n]=r})}function i(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function c(t){var n={};return t="string"==typeof t&&h.test(t)?f.getElementById(RegExp.$1):t,t&&(n[0]=t,n.length=1),c.extend(n,{_wrap:!0,get:function(){return t},addClass:function(n){return t.classList.add(n),this},removeClass:function(n){return t.classList.remove(n),this},html:function(n){return n&&(t.innerHTML=n),t.innerHTML},attr:function(n,e){c.isObject(n)?c.each(n,function(n,e){i(t,n,e)}):i(t,n,e)},empty:function(){return t.innerHTML="",this},before:function(n){t.parentNode.insertBefore(n,t)},append:function(n){n=n._wrap?n.get():n,t.appendChild(n)},text:function(){return t.textContent},on:function(n,e){return t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent&&t.attachEvent("on"+n,e),this},off:function(n,e){return t.removeEventListener?t.removeEventListener(n,e,!1):t.attachEvent&&t.detachEvent("on"+n,e),this}})}function u(t){return null==t?String(t):l[d.call(t)]||"object"}var f=window.document,a=[],s=a.slice,l={},p=l.hasOwnProperty,d=l.toString,h=/^#(.*)$/;r("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,n){l["[object "+n+"]"]=n.toLowerCase()}),c.each=r,c.extend=function(t){var n,e=s.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){e&&o(t,e,n)}),t},c.type=u,c.isWindow=function(t){return t&&t.window===t},c.isPlainObject=function(t){if("object"!==u(t)||t.nodeType||c.isWindow(t))return!1;try{if(t.constructor&&!p.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}return!0},c.isObject=function(t){return"object"===u(t)},c.trim=function(t){return t?t.trim():""},c.isFunction=function(t){return"function"===u(t)},a=null,e.exports=c});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/dollar-builtin__cc96790.map
;define("component:components/webuploader/mediator.js",function(t,n,e){function i(t,n,e,i){return u.grep(t,function(t){return!(!t||n&&t.e!==n||e&&t.cb!==e&&t.cb._cb!==e||i&&t.ctx!==i)})}function r(t,n,e){u.each((t||"").split(f),function(t,i){e(i,n)})}function s(t,n){for(var e,i=!1,r=-1,s=t.length;++r<s;)if(e=t[r],e.cb.apply(e.ctx2,n)===!1){i=!0;break}return!i}var c,o=t("component:components/webuploader/base.js"),u=o.$,a=[].slice,f=/\s+/;c={on:function(t,n,e){var i,s=this;return n?(i=this._events||(this._events=[]),r(t,n,function(t,n){var r={e:t};r.cb=n,r.ctx=e,r.ctx2=e||s,r.id=i.length,i.push(r)}),this):this},once:function(t,n,e){var i=this;return n?(r(t,n,function(t,n){var r=function(){return i.off(t,r),n.apply(e||i,arguments)};r._cb=n,i.on(t,r,e)}),i):i},off:function(t,n,e){var s=this._events;return s?t||n||e?(r(t,n,function(t,n){u.each(i(s,t,n,e),function(){delete s[this.id]})}),this):(this._events=[],this):this},trigger:function(t){var n,e,r;return this._events&&t?(n=a.call(arguments,1),e=i(this._events,t),r=i(this._events,"all"),s(e,n)&&s(r,arguments)):this}},e.exports=u.extend({installTo:function(t){return u.extend(t,c)}},c)});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/mediator__725e477.map
;define("component:components/webuploader/file.js",function(t,e,i){function s(){return u+d++}function n(t){this.name=t.name||"Untitled",this.size=t.size||0,this.type=t.type||"application/octet-stream",this.lastModifiedDate=t.lastModifiedDate||1*new Date,this.id=s(),this.ext=c.exec(this.name)?RegExp.$1:"",this.statusText="",p[this.id]=n.Status.INITED,this.source=t,this.loaded=0,this.on("error",function(t){this.setStatus(n.Status.ERROR,t)})}var o=t("component:components/webuploader/base.js"),a=t("component:components/webuploader/mediator.js"),r=o.$,u="WU_FILE_",d=0,c=/\.([^.]+)$/,p={};r.extend(n.prototype,{setStatus:function(t,e){var i=p[this.id];"undefined"!=typeof e&&(this.statusText=e),t!==i&&(p[this.id]=t,this.trigger("statuschange",t,i))},getStatus:function(){return p[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete p[this.id]}}),a.installTo(n.prototype),n.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},i.exports=n});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/file__7c21bf4.map
;define("component:components/webuploader/runtime/runtime.js",function(t,n,e){function o(t){this.options=s.extend({container:document.body},t),this.uid=r.guid("rt_")}var r=t("component:components/webuploader/base.js"),i=t("component:components/webuploader/mediator.js"),s=r.$,a={},p=function(t){for(var n in t)if(t.hasOwnProperty(n))return n;return null};s.extend(o.prototype,{getContainer:function(){var t,n,e=this.options;return this._container?this._container:(t=s(e.container||document.body),n=s(document.createElement("div")),n.attr("id","rt_"+this.uid),n.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),t.append(n),t.addClass("webuploader-container"),this._container=n,this._parent=t,n)},init:r.noop,exec:r.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),o.orders="html5,flash",o.addRuntime=function(t,n){a[t]=n},o.hasRuntime=function(t){return!!(t?a[t]:p(a))},o.create=function(t,n){var e,r;if(n=n||o.orders,s.each(n.split(/\s*,\s*/g),function(){return a[this]?(e=this,!1):void 0}),e=e||p(a),!e)throw new Error("Runtime Error");return r=new a[e](t)},i.installTo(o.prototype),e.exports=o});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/runtime__029c7ae.map
;define("component:components/webuploader/runtime/client.js",function(e,n,t){function i(e,n){var t,i=r.Deferred();this.uid=r.guid("client_"),this.runtimeReady=function(e){return i.done(e)},this.connectRuntime=function(e,u){if(t)throw new Error("already connected!");return i.done(u),"string"==typeof e&&o.get(e)&&(t=o.get(e)),t=t||o.get(null,n),t?(r.$.extend(t.options,e),t.__promise.then(i.resolve),t.__client++):(t=s.create(e,e.runtimeOrder),t.__promise=i.promise(),t.once("ready",i.resolve),t.init(),o.add(t),t.__client=1),n&&(t.__standalone=n),t},this.getRuntime=function(){return t},this.disconnectRuntime=function(){t&&(t.__client--,t.__client<=0&&(o.remove(t),delete t.__promise,t.destroy()),t=null)},this.exec=function(){if(t){var n=r.slice(arguments);return e&&n.unshift(e),t.exec.apply(this,n)}},this.getRuid=function(){return t&&t.uid},this.destroy=function(e){return function(){e&&e.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var o,r=e("component:components/webuploader/base.js"),u=e("component:components/webuploader/mediator.js"),s=e("component:components/webuploader/runtime/runtime.js");o=function(){var e={};return{add:function(n){e[n.uid]=n},get:function(n,t){var i;if(n)return e[n];for(i in e)if(!t||!e[i].__standalone)return e[i];return null},remove:function(n){delete e[n.uid]}}}(),u.installTo(i.prototype),t.exports=i});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/client__5833fa5.map
;define("component:components/webuploader/lib/blob.js",function(e,t,i){function n(e,t){var i=this;i.source=t,i.ruid=e,this.size=t.size||0,this.type=!t.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?"image/"+("jpg"===this.ext?"jpeg":this.ext):t.type||"application/octet-stream",s.call(i,"Blob"),this.uid=t.uid||this.uid,e&&i.connectRuntime(e)}var o=e("component:components/webuploader/base.js"),s=e("component:components/webuploader/runtime/client.js");o.inherits(s,{constructor:n,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),i.exports=n});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/lib/blob__2c84159.map
;define("component:components/webuploader/lib/dnd.js",function(n,o,t){function e(n){n=this.options=r.extend({},e.options,n),n.container=r(n.container),n.container.length&&p.call(this,"DragAndDrop")}var i=n("component:components/webuploader/base.js"),c=n("component:components/webuploader/mediator.js"),p=n("component:components/webuploader/runtime/client.js"),r=i.$;e.options={accept:null,disableGlobalDnd:!1},i.inherits(p,{constructor:e,init:function(){var n=this;n.connectRuntime(n.options,function(){n.exec("init"),n.trigger("ready")})}}),c.installTo(e.prototype),t.exports=e});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/lib/dnd__eb8e340.map
;define("component:components/webuploader/lib/file.js",function(e,t,n){function o(e,t){var n;this.name=t.name||"untitled"+p++,n=s.exec(t.name)?RegExp.$1.toLowerCase():"",!n&&t.type&&(n=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(t.type)?RegExp.$1.toLowerCase():"",this.name+="."+n),this.ext=n,this.lastModifiedDate=t.lastModifiedDate||(new Date).toLocaleString(),a.apply(this,arguments)}var i=e("component:components/webuploader/base.js"),a=e("component:components/webuploader/lib/blob.js"),p=1,s=/\.([^.]+)$/;n.exports=i.inherits(a,o)});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/lib/file__d21189e.map
;define("component:components/webuploader/lib/filepaste.js",function(n,e,o){function t(n){n=this.options=p.extend({},n),n.container=p(n.container||document.body),s.call(this,"FilePaste")}var i=n("component:components/webuploader/base.js"),c=n("component:components/webuploader/mediator.js"),s=n("component:components/webuploader/runtime/client.js"),p=i.$;i.inherits(s,{constructor:t,init:function(){var n=this;n.connectRuntime(n.options,function(){n.exec("init"),n.trigger("ready")})}}),c.installTo(t.prototype),o.exports=t});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/lib/filepaste__93ea9e8.map
;define("component:components/webuploader/lib/filepicker.js",function(e,t,n){function o(e){if(e=this.options=a.extend({},o.options,e),e.container=a(e.id),!e.container.length)throw new Error("按钮指定错误");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=a(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),r.call(this,"FilePicker",!0)}var i=e("component:components/webuploader/base.js"),r=e("component:components/webuploader/runtime/client.js"),s=e("component:components/webuploader/lib/file.js"),a=i.$;o.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},i.inherits(r,{constructor:o,init:function(){var e=this,t=e.options,n=t.button;n.addClass("webuploader-pick"),e.on("all",function(o){var i;switch(o){case"mouseenter":n.addClass("webuploader-pick-hover");break;case"mouseleave":n.removeClass("webuploader-pick-hover");break;case"change":i=e.exec("getFiles"),e.trigger("select",a.map(i,function(n){return n=new s(e.getRuid(),n),n._refer=t.container,n}),t.container)}}),e.connectRuntime(t,function(){e.refresh(),e.exec("init",t),e.trigger("ready")}),this._resizeHandler=i.bindFn(this.refresh,this),a(window).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),o=t.outerHeight?t.outerHeight():t.height(),i=t.offset();n&&o&&e.css({bottom:"auto",right:"auto",width:n+"px",height:o+"px"}).offset(i)},enable:function(){var e=this.options.button;e.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var e=this.options.button;a(window).off("resize",this._resizeHandler),e.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),n.exports=o});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/lib/filepicker__2c30728.map
;define("component:components/webuploader/lib/image.js",function(t,e,n){function o(t){this.options=r.extend({},o.options,t),s.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var i=t("component:components/webuploader/base.js"),s=t("component:components/webuploader/runtime/client.js"),c=t("component:components/webuploader/lib/blob.js"),r=i.$;o.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},i.inherits(s,{constructor:o,info:function(t){return t?(this._info=t,this):this._info},meta:function(t){return t?(this._meta=t,this):this._meta},loadFromBlob:function(t){var e=this,n=t.getRuid();this.connectRuntime(n,function(){e.exec("init",e.options),e.exec("loadFromBlob",t)})},resize:function(){var t=i.slice(arguments);return this.exec.apply(this,["resize"].concat(t))},crop:function(){var t=i.slice(arguments);return this.exec.apply(this,["crop"].concat(t))},getAsDataUrl:function(t){return this.exec("getAsDataUrl",t)},getAsBlob:function(t){var e=this.exec("getAsBlob",t);return new c(this.getRuid(),e)}}),n.exports=o});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/lib/image__b993f04.map
;define("component:components/webuploader/lib/md5.js",function(e,o,t){function n(){i.call(this,"Md5")}var i=e("component:components/webuploader/runtime/client.js"),c=e("component:components/webuploader/mediator.js");c.installTo(n.prototype),n.prototype.loadFromBlob=function(e){var o=this;o.getRuid()&&o.disconnectRuntime(),o.connectRuntime(e.ruid,function(){o.exec("init"),o.exec("loadFromBlob",e)})},n.prototype.getResult=function(){return this.exec("getResult")},t.exports=n});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/lib/md5__c34bb9e.map
;define("component:components/webuploader/lib/transport.js",function(e,t,o){function n(e){var t=this;e=t.options=a.extend(!0,{},n.options,e||{}),s.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){t.trigger("progress",1),clearTimeout(t._timer)})}var i=e("component:components/webuploader/base.js"),s=e("component:components/webuploader/runtime/client.js"),r=e("component:components/webuploader/mediator.js"),a=i.$;n.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},a.extend(n.prototype,{appendBlob:function(e,t,o){var n=this,i=n.options;n.getRuid()&&n.disconnectRuntime(),n.connectRuntime(t.ruid,function(){n.exec("init")}),n._blob=t,i.fileVal=e||i.fileVal,i.filename=o||i.filename},append:function(e,t){"object"==typeof e?a.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){"object"==typeof e?a.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;t&&(clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t))}}),r.installTo(n.prototype),o.exports=n});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/lib/transport__a26e57c.map
;define("component:components/webuploader/uploader.js",function(e,t,n){function i(e){this.options=o.extend(!0,{},i.options,e),this._init(this.options)}var s=e("component:components/webuploader/base.js"),r=e("component:components/webuploader/mediator.js"),o=s.$;i.options={},r.installTo(i.prototype),o.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){i.prototype[e]=function(){return this.request(t,arguments)}}),o.extend(i.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var n=this.options;return arguments.length>1?void(o.isPlainObject(t)&&o.isPlainObject(n[e])?o.extend(n[e],t):n[e]=t):e?n[e]:n},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var t=[].slice.call(arguments,1),n=this.options,i="on"+e.substring(0,1).toUpperCase()+e.substring(1);return r.trigger.apply(this,arguments)===!1||o.isFunction(n[i])&&n[i].apply(this,t)===!1||o.isFunction(this[i])&&this[i].apply(this,t)===!1||r.trigger.apply(r,[this,e].concat(t))===!1?!1:!0},destroy:function(){this.request("destroy",arguments),this.off()},request:s.noop}),s.create=i.create=function(e){return new i(e)},s.Uploader=i,n.exports=i});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/uploader__4c50b4e.map
;define("component:components/webuploader/widgets/widget.js",function(e,n,t){function o(e){if(!e)return!1;var n=e.length,t=p.type(e);return 1===e.nodeType&&n?!0:"array"===t||"function"!==t&&"string"!==t&&(0===n||"number"==typeof n&&n>0&&n-1 in e)}function i(e){this.owner=e,this.options=e.options}var r=e("component:components/webuploader/base.js"),s=e("component:components/webuploader/uploader.js"),p=r.$,u=s.prototype._init,a=s.prototype.destroy,h={},c=[];p.extend(i.prototype,{init:r.noop,invoke:function(e,n){var t=this.responseMap;return t&&e in t&&t[e]in this&&p.isFunction(this[t[e]])?this[t[e]].apply(this,n):h},request:function(){return this.owner.request.apply(this.owner,arguments)}}),p.extend(s.prototype,{_init:function(){var e=this,n=e._widgets=[],t=e.options.disableWidgets||"";return p.each(c,function(o,i){(!t||!~t.indexOf(i._name))&&n.push(new i(e))}),u.apply(e,arguments)},request:function(e,n,t){var i,s,p,u,a=0,c=this._widgets,m=c&&c.length,d=[],f=[];for(n=o(n)?n:[n];m>a;a++)i=c[a],s=i.invoke(e,n),s!==h&&(r.isPromise(s)?f.push(s):d.push(s));return t||f.length?(p=r.when.apply(r,f),u=p.pipe?"pipe":"then",p[u](function(){var e=r.Deferred(),n=arguments;return 1===n.length&&(n=n[0]),setTimeout(function(){e.resolve(n)},1),e.promise()})[t?u:"done"](t||r.noop)):d[0]},destroy:function(){a.apply(this,arguments),this._widgets=null}}),s.register=i.register=function(e,n){var t,o={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(n=e,p.each(n,function(e){return"_"===e[0]||"name"===e?void("name"===e&&(o.name=n.name)):void(o[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e)})):o=p.extend(o,e),n.responseMap=o,t=r.inherits(i,n),t._name=o.name,c.push(t),t},s.unRegister=i.unRegister=function(e){if(e&&"anonymous"!==e)for(var n=c.length;n--;)c[n]._name===e&&c.splice(n,1)},t.exports=i});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/widget__e5fe012.map
;define("component:components/webuploader/widgets/filednd.js",function(e,n,o){var t=e("component:components/webuploader/base.js"),d=e("component:components/webuploader/uploader.js"),r=e("component:components/webuploader/lib/dnd.js");e("component:components/webuploader/widgets/widget.js");var i=t.$;d.options.dnd="",o.exports=d.register({name:"dnd",init:function(e){if(e.dnd&&"html5"===this.request("predict-runtime-type")){var n,o=this,d=t.Deferred(),s=i.extend({},{disableGlobalDnd:e.disableGlobalDnd,container:e.dnd,accept:e.accept});return this.dnd=n=new r(s),n.once("ready",d.resolve),n.on("drop",function(e){o.request("add-file",[e])}),n.on("accept",function(e){return o.owner.trigger("dndAccept",e)}),n.init(),d.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/filednd__7749859.map
;define("component:components/webuploader/widgets/filepaste.js",function(e,t,n){var o=e("component:components/webuploader/base.js"),s=e("component:components/webuploader/uploader.js"),p=e("component:components/webuploader/lib/filepaste.js");e("component:components/webuploader/widgets/widget.js");var i=o.$;n.exports=s.register({name:"paste",init:function(e){if(e.paste&&"html5"===this.request("predict-runtime-type")){var t,n=this,s=o.Deferred(),r=i.extend({},{container:e.paste,accept:e.accept});return this.paste=t=new p(r),t.once("ready",s.resolve),t.on("paste",function(e){n.owner.request("add-file",[e])}),t.init(),s.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/filepaste__7487e9d.map
;define("component:components/webuploader/widgets/filepicker.js",function(e,n,i){var t=e("component:components/webuploader/base.js"),s=e("component:components/webuploader/uploader.js"),c=e("component:components/webuploader/lib/filepicker.js");e("component:components/webuploader/widgets/widget.js");var o=t.$;o.extend(s.options,{pick:null,accept:null}),i.exports=s.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){o.each(this.pickers,function(){this.refresh()})},addBtn:function(e){var n=this,i=n.options,s=i.accept,r=[];if(e)return o.isPlainObject(e)||(e={id:e}),o(e.id).each(function(){var p,a,d;d=t.Deferred(),p=o.extend({},e,{accept:o.isPlainObject(s)?[s]:s,swf:i.swf,runtimeOrder:i.runtimeOrder,id:this}),a=new c(p),a.once("ready",d.resolve),a.on("select",function(e){n.owner.request("add-file",[e])}),a.init(),n.pickers.push(a),r.push(d.promise())}),t.when.apply(t,r)},disable:function(){o.each(this.pickers,function(){this.disable()})},enable:function(){o.each(this.pickers,function(){this.enable()})},destroy:function(){o.each(this.pickers,function(){this.destroy()}),this.pickers=null}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/filepicker__58a60ae.map
;define("component:components/webuploader/widgets/image.js",function(e,o,t){var n=e("component:components/webuploader/base.js"),i=e("component:components/webuploader/uploader.js"),r=e("component:components/webuploader/lib/image.js");e("component:components/webuploader/widgets/widget.js");var s,a=n.$;s=function(e){var o=0,t=[],n=function(){for(var n;t.length&&e>o;)n=t.shift(),o+=n[0],n[1]()};return function(e,i,r){t.push([i,r]),e.once("destroy",function(){o-=i,setTimeout(n,1)}),setTimeout(n,1)}}(5242880),a.extend(i.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),t.exports=i.register({name:"image",makeThumb:function(e,o,t,n){var i,c;return e=this.request("get-file",e),e.type.match(/^image/)?(i=a.extend({},this.options.thumb),a.isPlainObject(t)&&(i=a.extend(i,t),t=null),t=t||i.width,n=n||i.height,c=new r(i),c.once("load",function(){e._info=e._info||c.info(),e._meta=e._meta||c.meta(),1>=t&&t>0&&(t=e._info.width*t),1>=n&&n>0&&(n=e._info.height*n),c.resize(t,n)}),c.once("complete",function(){o(!1,c.getAsDataUrl(i.type)),c.destroy()}),c.once("error",function(e){o(e||!0),c.destroy()}),void s(c,e.source.size,function(){e._info&&c.info(e._info),e._meta&&c.meta(e._meta),c.loadFromBlob(e.source)})):void o(!0)},beforeSendFile:function(e){var o,t,i=this.options.compress||this.options.resize,s=i&&i.compressSize||0,c=i&&i.noCompressIfLarger||!1;return e=this.request("get-file",e),!i||!~"image/jpeg,image/jpg".indexOf(e.type)||e.size<s||e._compressed?void 0:(i=a.extend({},i),t=n.Deferred(),o=new r(i),t.always(function(){o.destroy(),o=null}),o.once("error",t.reject),o.once("load",function(){var t=i.width,n=i.height;e._info=e._info||o.info(),e._meta=e._meta||o.meta(),1>=t&&t>0&&(t=e._info.width*t),1>=n&&n>0&&(n=e._info.height*n),o.resize(t,n)}),o.once("complete",function(){var n,r;try{n=o.getAsBlob(i.type),r=e.size,(!c||n.size<r)&&(e.source=n,e.size=n.size,e.trigger("resize",n.size,r)),e._compressed=!0,t.resolve()}catch(s){t.resolve()}}),e._info&&o.info(e._info),e._meta&&o.meta(e._meta),o.loadFromBlob(e.source),t.promise())}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/image__5bd17bf.map
;define("component:components/webuploader/queue.js",function(e,t,n){function u(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var s=e("component:components/webuploader/base.js"),a=e("component:components/webuploader/mediator.js"),i=e("component:components/webuploader/file.js"),o=s.$,r=i.Status;o.extend(u.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return"string"!=typeof e?e:this._map[e]},fetch:function(e){var t,n,u=this._queue.length;for(e=e||r.QUEUED,t=0;u>t;t++)if(n=this._queue[t],e===n.getStatus())return n;return null},sort:function(e){"function"==typeof e&&this._queue.sort(e)},getFiles:function(){for(var e,t=[].slice.call(arguments,0),n=[],u=0,s=this._queue.length;s>u;u++)e=this._queue[u],(!t.length||~o.inArray(e.getStatus(),t))&&n.push(e);return n},removeFile:function(e){var t=this._map[e.id];t&&(delete this._map[e.id],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var t=this,n=this._map[e.id];n||(this._map[e.id]=e,e.on("statuschange",function(e,n){t._onFileStatusChange(e,n)}))},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case r.PROGRESS:n.numOfProgress--;break;case r.QUEUED:n.numOfQueue--;break;case r.ERROR:n.numOfUploadFailed--;break;case r.INVALID:n.numOfInvalid--;break;case r.INTERRUPT:n.numofInterrupt--}switch(e){case r.QUEUED:n.numOfQueue++;break;case r.PROGRESS:n.numOfProgress++;break;case r.ERROR:n.numOfUploadFailed++;break;case r.COMPLETE:n.numOfSuccess++;break;case r.CANCELLED:n.numOfCancel++;break;case r.INVALID:n.numOfInvalid++;break;case r.INTERRUPT:n.numofInterrupt++}}}),a.installTo(u.prototype),n.exports=u});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/queue__226212e.map
;define("component:components/webuploader/widgets/queue.js",function(e,t,n){var i=e("component:components/webuploader/base.js"),r=e("component:components/webuploader/uploader.js"),u=e("component:components/webuploader/queue.js"),s=e("component:components/webuploader/file.js"),o=e("component:components/webuploader/lib/file.js"),a=e("component:components/webuploader/runtime/client.js");e("component:components/webuploader/widgets/widget.js");var c=i.$,l=/\.\w+$/,p=s.Status;n.exports=r.register({name:"queue",init:function(e){var t,n,r,s,o,l,p,d=this;if(c.isPlainObject(e.accept)&&(e.accept=[e.accept]),e.accept){for(o=[],r=0,n=e.accept.length;n>r;r++)s=e.accept[r].extensions,s&&o.push(s);o.length&&(l="\\."+o.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),d.accept=new RegExp(l,"i")}return d.queue=new u,d.stats=d.queue.stats,"html5"===this.request("predict-runtime-type")?(t=i.Deferred(),this.placeholder=p=new a("Placeholder"),p.connectRuntime({runtimeOrder:"html5"},function(){d._ruid=p.getRuid(),t.resolve()}),t.promise()):void 0},_wrapFile:function(e){if(!(e instanceof s)){if(!(e instanceof o)){if(!this._ruid)throw new Error("Can't add external files.");e=new o(this._ruid,e)}e=new s(e)}return e},acceptFile:function(e){var t=!e||!e.size||this.accept&&l.exec(e.name)&&!this.accept.test(e.name);return!t},_addFile:function(e){var t=this;return e=t._wrapFile(e),t.owner.trigger("beforeFileQueued",e)?t.acceptFile(e)?(t.queue.append(e),t.owner.trigger("fileQueued",e),e):void t.owner.trigger("error","Q_TYPE_DENIED",e):void 0},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),e=c.map(e,function(e){return t._addFile(e)}),t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(e,t){var n=this;e=e.id?e:n.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n,i,r,u=this;if(e)return e=e.id?e:u.queue.getFile(e),e.setStatus(p.QUEUED),void(t||u.request("start-upload"));for(n=u.queue.getFiles(p.ERROR),i=0,r=n.length;r>i;i++)e=n[i],e.setStatus(p.QUEUED);u.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new u,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/queue__bd0b36d.map
;define("component:components/webuploader/widgets/runtime.js",function(e,t,n){var r=e("component:components/webuploader/uploader.js"),o=e("component:components/webuploader/runtime/runtime.js");e("component:components/webuploader/widgets/widget.js"),r.support=function(){return o.hasRuntime.apply(o,arguments)},n.exports=r.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e,t,n=this.options.runtimeOrder||o.orders,r=this.type;if(!r)for(n=n.split(/\s*,\s*/g),e=0,t=n.length;t>e;e++)if(o.hasRuntime(n[e])){this.type=r=n[e];break}return r}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/runtime__036b0b9.map
;define("component:components/webuploader/widgets/upload.js",function(t){function e(t,e){var n,i,r=[],s=t.source,o=s.size,a=e?Math.ceil(o/e):1,u=0,c=0;for(i={file:t,has:function(){return!!r.length},shift:function(){return r.shift()},unshift:function(t){r.unshift(t)}};a>c;)n=Math.min(e,o-u),r.push({file:t,start:u,end:e?u+n:o,total:o,chunks:a,chunk:c++,cuted:i}),u+=n;return t.blocks=r.concat(),t.remaning=r.length,i}var n=t("component:components/webuploader/base.js"),i=t("component:components/webuploader/uploader.js"),r=t("component:components/webuploader/file.js"),s=t("component:components/webuploader/lib/transport.js");t("component:components/webuploader/widgets/widget.js");var o=n.$,a=n.isPromise,u=r.Status;o.extend(i.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),i.register({name:"upload",init:function(){var t=this.owner,e=this;this.runing=!1,this.progress=!1,t.on("startUpload",function(){e.progress=!0}).on("uploadFinished",function(){e.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=n.bindFn(this._tick,this),t.on("uploadComplete",function(t){t.blocks&&o.each(t.blocks,function(t,e){e.transport&&(e.transport.abort(),e.transport.destroy()),delete e.transport}),delete t.blocks,delete t.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(t){var e=this;if(o.each(e.request("get-files",u.INVALID),function(){e.request("remove-file",this)}),t)if(t=t.id?t:e.request("get-file",t),t.getStatus()===u.INTERRUPT)o.each(e.pool,function(e,n){n.file===t&&n.transport&&n.transport.send()}),t.setStatus(u.QUEUED);else{if(t.getStatus()===u.PROGRESS)return;t.setStatus(u.QUEUED)}else o.each(e.request("get-files",[u.INITED]),function(){this.setStatus(u.QUEUED)});if(!e.runing){e.runing=!0;var i=[];o.each(e.pool,function(t,n){var r=n.file;r.getStatus()===u.INTERRUPT&&(i.push(r),e._trigged=!1,n.transport&&n.transport.send())});for(var t;t=i.shift();)t.setStatus(u.PROGRESS);t||o.each(e.request("get-files",u.INTERRUPT),function(){this.setStatus(u.PROGRESS)}),e._trigged=!1,n.nextTick(e.__tick),e.owner.trigger("startUpload")}},stopUpload:function(t,e){var i=this;if(t===!0&&(e=t,t=null),i.runing!==!1){if(t){if(t=t.id?t:i.request("get-file",t),t.getStatus()!==u.PROGRESS&&t.getStatus()!==u.QUEUED)return;return t.setStatus(u.INTERRUPT),o.each(i.pool,function(e,n){n.file===t&&(n.transport&&n.transport.abort(),i._putback(n),i._popBlock(n))}),n.nextTick(i.__tick)}i.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(u.INTERRUPT),e&&o.each(i.pool,function(t,e){e.transport&&e.transport.abort(),e.file.setStatus(u.INTERRUPT)}),i.owner.trigger("stopUpload")}},cancelFile:function(t){t=t.id?t:this.request("get-file",t),t.blocks&&o.each(t.blocks,function(t,e){var n=e.transport;n&&(n.abort(),n.destroy(),delete e.transport)}),t.setStatus(u.CANCELLED),this.owner.trigger("fileDequeued",t)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(t,e){t=t.id?t:this.request("get-file",t),t.setStatus(e||u.COMPLETE),t.skipped=!0,t.blocks&&o.each(t.blocks,function(t,e){var n=e.transport;n&&(n.abort(),n.destroy(),delete e.transport)}),this.owner.trigger("uploadSkip",t)},_tick:function(){var t,e,i=this,r=i.options;return i._promise?i._promise.always(i.__tick):void(i.pool.length<r.threads&&(e=i._nextBlock())?(i._trigged=!1,t=function(t){i._promise=null,t&&t.file&&i._startSend(t),n.nextTick(i.__tick)},i._promise=a(e)?e.always(t):t(e)):i.remaning||i._getStats().numOfQueue||i._getStats().numofInterrupt||(i.runing=!1,i._trigged||n.nextTick(function(){i.owner.trigger("uploadFinished")}),i._trigged=!0))},_putback:function(t){var e;t.cuted.unshift(t),e=this.stack.indexOf(t.cuted),~e||this.stack.unshift(t.cuted)},_getStack:function(){for(var t,e=0;t=this.stack[e++];){if(t.has()&&t.file.getStatus()===u.PROGRESS)return t;(!t.has()||t.file.getStatus()!==u.PROGRESS&&t.file.getStatus()!==u.INTERRUPT)&&this.stack.splice(--e,1)}return null},_nextBlock:function(){var t,n,i,r,s=this,o=s.options;return(t=this._getStack())?(o.prepareNextFile&&!s.pending.length&&s._prepareNextFile(),t.shift()):s.runing?(!s.pending.length&&s._getStats().numOfQueue&&s._prepareNextFile(),n=s.pending.shift(),i=function(n){return n?(t=e(n,o.chunked?o.chunkSize:0),s.stack.push(t),t.shift()):null},a(n)?(r=n.file,n=n[n.pipe?"pipe":"then"](i),n.file=r,n):i(n)):void 0},_prepareNextFile:function(){var t,e=this,n=e.request("fetch-file"),i=e.pending;n&&(t=e.request("before-send-file",n,function(){return n.getStatus()===u.PROGRESS||n.getStatus()===u.INTERRUPT?n:e._finishFile(n)}),e.owner.trigger("uploadStart",n),n.setStatus(u.PROGRESS),t.file=n,t.done(function(){var e=o.inArray(t,i);~e&&i.splice(e,1,n)}),t.fail(function(t){n.setStatus(u.ERROR,t),e.owner.trigger("uploadError",n,t),e.owner.trigger("uploadComplete",n)}),i.push(t))},_popBlock:function(t){var e=o.inArray(t,this.pool);this.pool.splice(e,1),t.file.remaning--,this.remaning--},_startSend:function(t){var e,i=this,r=t.file;return r.getStatus()!==u.PROGRESS?void(r.getStatus()===u.INTERRUPT&&i._putback(t)):(i.pool.push(t),i.remaning++,t.blob=1===t.chunks?r.source:r.source.slice(t.start,t.end),e=i.request("before-send",t,function(){r.getStatus()===u.PROGRESS?i._doSend(t):(i._popBlock(t),n.nextTick(i.__tick))}),void e.fail(function(){1===r.remaning?i._finishFile(r).always(function(){t.percentage=1,i._popBlock(t),i.owner.trigger("uploadComplete",r),n.nextTick(i.__tick)}):(t.percentage=1,i.updateFileProgress(r),i._popBlock(t),n.nextTick(i.__tick))}))},_doSend:function(t){var e,i,r=this,a=r.owner,c=r.options,p=t.file,l=new s(c),f=o.extend({},c.formData),g=o.extend({},c.headers);t.transport=l,l.on("destroy",function(){delete t.transport,r._popBlock(t),n.nextTick(r.__tick)}),l.on("progress",function(e){t.percentage=e,r.updateFileProgress(p)}),e=function(e){var n;return i=l.getResponseAsJson()||{},i._raw=l.getResponse(),n=function(t){e=t},a.trigger("uploadAccept",t,i,n)||(e=e||"server"),e},l.on("error",function(n,i){t.retried=t.retried||0,t.chunks>1&&~"http,abort".indexOf(n)&&t.retried<c.chunkRetry?(t.retried++,l.send()):(i||"server"!==n||(n=e(n)),p.setStatus(u.ERROR,n),a.trigger("uploadError",p,n),a.trigger("uploadComplete",p))}),l.on("load",function(){var t;return(t=e())?void l.trigger("error",t,!0):void(1===p.remaning?r._finishFile(p,i):l.destroy())}),f=o.extend(f,{id:p.id,name:p.name,type:p.type,lastModifiedDate:p.lastModifiedDate,size:p.size}),t.chunks>1&&o.extend(f,{chunks:t.chunks,chunk:t.chunk}),a.trigger("uploadBeforeSend",t,f,g),l.appendBlob(c.fileVal,t.blob,p.name),l.append(f),l.setRequestHeader(g),l.send()},_finishFile:function(t,e,n){var i=this.owner;return i.request("after-send-file",arguments,function(){t.setStatus(u.COMPLETE),i.trigger("uploadSuccess",t,e,n)}).fail(function(e){t.getStatus()===u.PROGRESS&&t.setStatus(u.ERROR,e),i.trigger("uploadError",t,e)}).always(function(){i.trigger("uploadComplete",t)})},updateFileProgress:function(t){var e=0,n=0;t.blocks&&(o.each(t.blocks,function(t,e){n+=(e.percentage||0)*(e.end-e.start)}),e=n/t.size,this.owner.trigger("uploadProgress",t,e||0))}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/upload__d7246ee.map
;define("component:components/webuploader/widgets/validator.js",function(e,i,n){var t=e("component:components/webuploader/base.js"),o=e("component:components/webuploader/uploader.js"),r=e("component:components/webuploader/file.js");e("component:components/webuploader/widgets/widget.js");var u,a=t.$,s={};u={addValidator:function(e,i){s[e]=i},removeValidator:function(e){delete s[e]}},o.register({name:"validator",init:function(){var e=this;t.nextTick(function(){a.each(s,function(){this.call(e.owner)})})}}),u.addValidator("fileNumLimit",function(){var e=this,i=e.options,n=0,t=parseInt(i.fileNumLimit,10),o=!0;t&&(e.on("beforeFileQueued",function(e){return n>=t&&o&&(o=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",t,e),setTimeout(function(){o=!0},1)),n>=t?!1:!0}),e.on("fileQueued",function(){n++}),e.on("fileDequeued",function(){n--}),e.on("reset",function(){n=0}))}),u.addValidator("fileSizeLimit",function(){var e=this,i=e.options,n=0,t=parseInt(i.fileSizeLimit,10),o=!0;t&&(e.on("beforeFileQueued",function(e){var i=n+e.size>t;return i&&o&&(o=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",t,e),setTimeout(function(){o=!0},1)),i?!1:!0}),e.on("fileQueued",function(e){n+=e.size}),e.on("fileDequeued",function(e){n-=e.size}),e.on("reset",function(){n=0}))}),u.addValidator("fileSingleSizeLimit",function(){var e=this,i=e.options,n=i.fileSingleSizeLimit;n&&e.on("beforeFileQueued",function(e){return e.size>n?(e.setStatus(r.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",n,e),!1):void 0})}),u.addValidator("duplicate",function(){function e(e){for(var i,n=0,t=0,o=e.length;o>t;t++)i=e.charCodeAt(t),n=i+(n<<6)+(n<<16)-n;return n}var i=this,n=i.options,t={};n.duplicate||(i.on("beforeFileQueued",function(i){var n=i.__hash||(i.__hash=e(i.name+i.size+i.lastModifiedDate));return t[n]?(this.trigger("error","F_DUPLICATE",i),!1):void 0}),i.on("fileQueued",function(e){var i=e.__hash;i&&(t[i]=!0)}),i.on("fileDequeued",function(e){var i=e.__hash;i&&delete t[i]}),i.on("reset",function(){t={}}))}),n.exports=u});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/validator__343cee5.map
;define("component:components/webuploader/widgets/md5.js",function(e,o,n){var t=e("component:components/webuploader/base.js"),s=e("component:components/webuploader/uploader.js"),r=e("component:components/webuploader/lib/md5.js"),i=e("component:components/webuploader/lib/blob.js");e("component:components/webuploader/widgets/widget.js"),n.exports=s.register({name:"md5",md5File:function(e,o,n){var s=new r,l=t.Deferred(),p=e instanceof i?e:this.request("get-file",e).source;return s.on("progress load",function(e){e=e||{},l.notify(e.total?e.loaded/e.total:1)}),s.on("complete",function(){l.resolve(s.getResult())}),s.on("error",function(e){l.reject(e)}),arguments.length>1&&(o=o||0,n=n||0,0>o&&(o=p.size+o),0>n&&(n=p.size+n),n=Math.min(n,p.size),p=p.slice(o,n)),s.loadFromBlob(p),l.promise()}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/md5__3e7e8ea.map
;define("component:components/webuploader/runtime/compbase.js",function(t,n,e){function i(t,n){this.owner=t,this.options=t.options,this.getRuntime=function(){return n},this.getRuid=function(){return n.uid},this.trigger=function(){return t.trigger.apply(t,arguments)}}e.exports=i});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/compbase__5ea7110.map
;define("component:components/webuploader/runtime/html5/runtime.js",function(e,n,t){function o(){var e={},n=this,t=this.destroy;r.apply(n,arguments),n.type=u,n.exec=function(t,o){var r,s=this,u=s.uid,m=i.slice(arguments,2);return a[t]&&(r=e[u]=e[u]||new a[t](s,n),r[o])?r[o].apply(r,m):void 0},n.destroy=function(){return t&&t.apply(this,arguments)}}var i=e("component:components/webuploader/base.js"),r=e("component:components/webuploader/runtime/runtime.js"),s=e("component:components/webuploader/runtime/compbase.js"),u="html5",a={};i.inherits(r,{constructor:o,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),o.register=function(e,n){var t=a[e]=i.inherits(s,n);return t},window.Blob&&window.FileReader&&window.DataView&&r.addRuntime(u,o),t.exports=o});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/runtime__6e625be.map
;define("component:components/webuploader/runtime/html5/blob.js",function(e,o,n){var t=e("component:components/webuploader/runtime/html5/runtime.js"),i=e("component:components/webuploader/lib/blob.js");n.exports=t.register("Blob",{slice:function(e,o){var n=this.owner.source,t=n.slice||n.webkitSlice||n.mozSlice;return n=t.call(n,e,o),new i(this.getRuid(),n)}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/blob__dd7d666.map
;define("component:components/webuploader/runtime/html5/dnd.js",function(e,r,n){var t=e("component:components/webuploader/base.js"),a=e("component:components/webuploader/runtime/html5/runtime.js"),d=e("component:components/webuploader/lib/file.js"),i=t.$,o="webuploader-dnd-";n.exports=a.register("DragAndDrop",{init:function(){var e=this.elem=this.options.container;this.dragEnterHandler=t.bindFn(this._dragEnterHandler,this),this.dragOverHandler=t.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=t.bindFn(this._dragLeaveHandler,this),this.dropHandler=t.bindFn(this._dropHandler,this),this.dndOver=!1,e.on("dragenter",this.dragEnterHandler),e.on("dragover",this.dragOverHandler),e.on("dragleave",this.dragLeaveHandler),e.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).on("dragover",this.dragOverHandler),i(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var r,n=this,t=n._denied||!1;return e=e.originalEvent||e,n.dndOver||(n.dndOver=!0,r=e.dataTransfer.items,r&&r.length&&(n._denied=t=!n.trigger("accept",r)),n.elem.addClass(o+"over"),n.elem[t?"addClass":"removeClass"](o+"denied")),e.dataTransfer.dropEffect=t?"none":"copy",!1},_dragOverHandler:function(e){var r=this.elem.parent().get(0);return r&&!i.contains(r,e.currentTarget)?!1:(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e),!1)},_dragLeaveHandler:function(){var e,r=this;return e=function(){r.dndOver=!1,r.elem.removeClass(o+"over "+o+"denied")},clearTimeout(r._leaveTimer),r._leaveTimer=setTimeout(e,100),!1},_dropHandler:function(e){var r,n,t=this,a=t.getRuid(),s=t.elem.parent().get(0);if(s&&!i.contains(s,e.currentTarget))return!1;e=e.originalEvent||e,r=e.dataTransfer;try{n=r.getData("text/html")}catch(l){}return n?void 0:(t._getTansferFiles(r,function(e){t.trigger("drop",i.map(e,function(e){return new d(a,e)}))}),t.dndOver=!1,t.elem.removeClass(o+"over"),!1)},_getTansferFiles:function(e,r){var n,a,d,i,o,s,l,h=[],v=[];for(n=e.items,a=e.files,l=!(!n||!n[0].webkitGetAsEntry),o=0,s=a.length;s>o;o++)d=a[o],i=n&&n[o],l&&i.webkitGetAsEntry().isDirectory?v.push(this._traverseDirectoryTree(i.webkitGetAsEntry(),h)):h.push(d);t.when.apply(t,v).done(function(){h.length&&r(h)})},_traverseDirectoryTree:function(e,r){var n=t.Deferred(),a=this;return e.isFile?e.file(function(e){r.push(e),n.resolve()}):e.isDirectory&&e.createReader().readEntries(function(e){var d,i=e.length,o=[],s=[];for(d=0;i>d;d++)o.push(a._traverseDirectoryTree(e[d],s));t.when.apply(t,o).then(function(){r.push.apply(r,s),n.resolve()},n.reject)}),n.promise()},destroy:function(){var e=this.elem;e&&(e.off("dragenter",this.dragEnterHandler),e.off("dragover",this.dragOverHandler),e.off("dragleave",this.dragLeaveHandler),e.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).off("dragover",this.dragOverHandler),i(document).off("drop",this.dropHandler)))}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/dnd__ca21202.map
;define("component:components/webuploader/runtime/html5/filepaste.js",function(e,t,n){var i=e("component:components/webuploader/base.js"),o=e("component:components/webuploader/runtime/html5/runtime.js"),s=e("component:components/webuploader/lib/file.js");n.exports=o.register("FilePaste",{init:function(){var e,t,n,o,s=this.options,a=this.elem=s.container,p=".*";if(s.accept){for(e=[],t=0,n=s.accept.length;n>t;t++)o=s.accept[t].mimeTypes,o&&e.push(o);e.length&&(p=e.join(","),p=p.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=p=new RegExp(p,"i"),this.hander=i.bindFn(this._pasteHander,this),a.on("paste",this.hander)},_pasteHander:function(e){var t,n,i,o,a,p=[],r=this.getRuid();for(e=e.originalEvent||e,t=e.clipboardData.items,o=0,a=t.length;a>o;o++)n=t[o],"file"===n.kind&&(i=n.getAsFile())&&p.push(new s(r,i));p.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",p))},destroy:function(){this.elem.off("paste",this.hander)}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/filepaste__2dd88ff.map
;define("component:components/webuploader/runtime/html5/filepicker.js",function(e,t,n){var i=e("component:components/webuploader/base.js"),o=e("component:components/webuploader/runtime/html5/runtime.js"),l=i.$;n.exports=o.register("FilePicker",{init:function(){var e,t,n,i,o=this.getRuntime().getContainer(),c=this,a=c.owner,r=c.options,s=this.label=l(document.createElement("label")),p=this.input=l(document.createElement("input"));if(p.attr("type","file"),p.attr("name",r.name),p.addClass("webuploader-element-invisible"),s.on("click",function(){p.trigger("click")}),s.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),r.multiple&&p.attr("multiple","multiple"),r.accept&&r.accept.length>0){for(e=[],t=0,n=r.accept.length;n>t;t++)e.push(r.accept[t].mimeTypes);p.attr("accept",e.join(","))}o.append(p),o.append(s),i=function(e){a.trigger(e.type)},p.on("change",function(e){var t,n=arguments.callee;c.files=e.target.files,t=this.cloneNode(!0),t.value=null,this.parentNode.replaceChild(t,this),p.off(),p=l(t).on("change",n).on("mouseenter mouseleave",i),a.trigger("change")}),s.on("mouseenter mouseleave",i)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/filepicker__69141b0.map
;define("component:components/webuploader/runtime/html5/util.js",function(e,n,t){var r=e("component:components/webuploader/base.js"),o=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL,a=r.noop,i=a;o&&(a=function(){return o.createObjectURL.apply(o,arguments)},i=function(){return o.revokeObjectURL.apply(o,arguments)}),t.exports={createObjectURL:a,revokeObjectURL:i,dataURL2Blob:function(e){var n,t,r,o,a,i;for(i=e.split(","),n=~i[0].indexOf("base64")?atob(i[1]):decodeURIComponent(i[1]),r=new ArrayBuffer(n.length),t=new Uint8Array(r),o=0;o<n.length;o++)t[o]=n.charCodeAt(o);return a=i[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(r,a)},dataURL2ArrayBuffer:function(e){var n,t,r,o;for(o=e.split(","),n=~o[0].indexOf("base64")?atob(o[1]):decodeURIComponent(o[1]),t=new Uint8Array(n.length),r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t.buffer},arrayBufferToBlob:function(e,n){var t,r=window.BlobBuilder||window.WebKitBlobBuilder;return r?(t=new r,t.append(e),t.getBlob(n)):new Blob([e],n?{type:n}:{})},canvasToDataUrl:function(e,n,t){return e.toDataURL(n,t/100)},parseMeta:function(e,n){n(!1,{})},updateImageHead:function(e){return e}}});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/util__b56e651.map
;define("component:components/webuploader/runtime/html5/imagemeta.js",function(e,t,n){var a,r=e("component:components/webuploader/runtime/html5/util.js");a={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(e,t){var n=this,a=new FileReader;a.onload=function(){t(!1,n._parse(this.result)),a=a.onload=a.onerror=null},a.onerror=function(e){t(e.message),a=a.onload=a.onerror=null},e=e.slice(0,n.maxMetaDataSize),a.readAsArrayBuffer(e.getSource())},_parse:function(e,t){if(!(e.byteLength<6)){var n,r,i,o,s=new DataView(e),u=2,l=s.byteLength-4,g=u,p={};if(65496===s.getUint16(0)){for(;l>u&&(n=s.getUint16(u),n>=65504&&65519>=n||65534===n)&&(r=s.getUint16(u+2)+2,!(u+r>s.byteLength));){if(i=a.parsers[n],!t&&i)for(o=0;o<i.length;o+=1)i[o].call(a,s,u,r,p);u+=r,g=u}g>6&&(p.imageHead=e.slice?e.slice(2,g):new Uint8Array(e).subarray(2,g))}return p}},updateImageHead:function(e,t){var n,a,r,i=this._parse(e,!0);return r=2,i.imageHead&&(r=2+i.imageHead.byteLength),a=e.slice?e.slice(r):new Uint8Array(e).subarray(r),n=new Uint8Array(t.byteLength+2+a.byteLength),n[0]=255,n[1]=216,n.set(new Uint8Array(t),2),n.set(new Uint8Array(a),t.byteLength+2),n.buffer}},r.parseMeta=function(){return a.parse.apply(a,arguments)},r.updateImageHead=function(){return a.updateImageHead.apply(a,arguments)},n.exports=a});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/imagemeta__548116b.map
;define("component:components/webuploader/runtime/html5/imagemeta/exif.js",function(e,t,i){var n=e("component:components/webuploader/base.js"),a=e("component:components/webuploader/runtime/html5/imagemeta.js"),r={};r.ExifMap=function(){return this},r.ExifMap.prototype.map={Orientation:274},r.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},r.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},r.exifTagTypes[7]=r.exifTagTypes[1],r.getExifValue=function(e,t,i,a,f,g){var o,u,s,l,d,p,x=r.exifTagTypes[a];if(!x)return void n.log("Invalid Exif data: Invalid tag type.");if(o=x.size*f,u=o>4?t+e.getUint32(i+8,g):i+8,u+o>e.byteLength)return void n.log("Invalid Exif data: Invalid data offset.");if(1===f)return x.getValue(e,u,g);for(s=[],l=0;f>l;l+=1)s[l]=x.getValue(e,u+l*x.size,g);if(x.ascii){for(d="",l=0;l<s.length&&(p=s[l],"\x00"!==p);l+=1)d+=p;return d}return s},r.parseExifTag=function(e,t,i,n,a){var f=e.getUint16(i,n);a.exif[f]=r.getExifValue(e,t,i,e.getUint16(i+2,n),e.getUint32(i+4,n),n)},r.parseExifTags=function(e,t,i,a,r){var f,g,o;if(i+6>e.byteLength)return void n.log("Invalid Exif data: Invalid directory offset.");if(f=e.getUint16(i,a),g=i+2+12*f,g+4>e.byteLength)return void n.log("Invalid Exif data: Invalid directory size.");for(o=0;f>o;o+=1)this.parseExifTag(e,t,i+2+12*o,a,r);return e.getUint32(g,a)},r.parseExifData=function(e,t,i,a){var f,g,o=t+10;if(1165519206===e.getUint32(t+4)){if(o+8>e.byteLength)return void n.log("Invalid Exif data: Invalid segment size.");if(0!==e.getUint16(t+8))return void n.log("Invalid Exif data: Missing byte alignment offset.");switch(e.getUint16(o)){case 18761:f=!0;break;case 19789:f=!1;break;default:return void n.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==e.getUint16(o+2,f))return void n.log("Invalid Exif data: Missing TIFF marker.");g=e.getUint32(o+4,f),a.exif=new r.ExifMap,g=r.parseExifTags(e,o,o+g,f,a)}},a.parsers[65505].push(r.parseExifData),i.exports=r});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/imagemeta/exif__4a578b5.map
;define("component:components/webuploader/runtime/html5/jpegencoder.js",function(r,n,o){function a(r){function n(r){for(var n=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],o=0;64>o;o++){var a=C((n[o]*r+50)/100);1>a?a=1:a>255&&(a=255),_[L[o]]=a}for(var f=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],e=0;64>e;e++){var t=C((f[e]*r+50)/100);1>t?t=1:t>255&&(t=255),x[L[e]]=t}for(var v=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],i=0,u=0;8>u;u++)for(var c=0;8>c;c++)N[i]=1/(_[L[i]]*v[u]*v[c]*8),S[i]=1/(x[L[i]]*v[u]*v[c]*8),i++}function o(r,n){for(var o=0,a=0,f=new Array,e=1;16>=e;e++){for(var t=1;t<=r[e];t++)f[n[a]]=[],f[n[a]][0]=o,f[n[a]][1]=e,a++,o++;o*=2}return f}function a(){g=o(O,P),l=o(T,U),j=o(Q,R),b=o(V,W)}function f(){for(var r=1,n=2,o=1;15>=o;o++){for(var a=r;n>a;a++)q[32767+a]=o,k[32767+a]=[],k[32767+a][1]=o,k[32767+a][0]=a;for(var f=-(n-1);-r>=f;f++)q[32767+f]=o,k[32767+f]=[],k[32767+f][1]=o,k[32767+f][0]=n-1+f;r<<=1,n<<=1}}function e(){for(var r=0;256>r;r++)K[r]=19595*r,K[r+256>>0]=38470*r,K[r+512>>0]=7471*r+32768,K[r+768>>0]=-11059*r,K[r+1024>>0]=-21709*r,K[r+1280>>0]=32768*r+8421375,K[r+1536>>0]=-27439*r,K[r+1792>>0]=-5329*r}function t(r){for(var n=r[0],o=r[1]-1;o>=0;)n&1<<o&&(E|=1<<F),o--,F--,0>F&&(255==E?(v(255),v(0)):v(E),F=7,E=0)}function v(r){D.push(J[r])}function i(r){v(r>>8&255),v(255&r)}function u(r,n){var o,a,f,e,t,v,i,u,c,w=0,y=8,d=64;for(c=0;y>c;++c){o=r[w],a=r[w+1],f=r[w+2],e=r[w+3],t=r[w+4],v=r[w+5],i=r[w+6],u=r[w+7];var A=o+u,h=o-u,p=a+i,s=a-i,m=f+v,g=f-v,l=e+t,j=e-t,b=A+l,M=A-l,C=p+m,_=p-m;r[w]=b+C,r[w+4]=b-C;var x=.707106781*(_+M);r[w+2]=M+x,r[w+6]=M-x,b=j+g,C=g+s,_=s+h;var N=.382683433*(b-_),S=.5411961*b+N,k=1.306562965*_+N,q=.707106781*C,B=h+q,D=h-q;r[w+5]=D+S,r[w+3]=D-S,r[w+1]=B+k,r[w+7]=B-k,w+=8}for(w=0,c=0;y>c;++c){o=r[w],a=r[w+8],f=r[w+16],e=r[w+24],t=r[w+32],v=r[w+40],i=r[w+48],u=r[w+56];var E=o+u,F=o-u,G=a+i,H=a-i,I=f+v,J=f-v,K=e+t,L=e-t,O=E+K,P=E-K,Q=G+I,R=G-I;r[w]=O+Q,r[w+32]=O-Q;var T=.707106781*(R+P);r[w+16]=P+T,r[w+48]=P-T,O=L+J,Q=J+H,R=H+F;var U=.382683433*(O-R),V=.5411961*O+U,W=1.306562965*R+U,X=.707106781*Q,Y=F+X,Z=F-X;r[w+40]=Z+V,r[w+24]=Z-V,r[w+8]=Y+W,r[w+56]=Y-W,w++}var $;for(c=0;d>c;++c)$=r[c]*n[c],z[c]=$>0?$+.5|0:$-.5|0;return z}function c(){i(65504),i(16),v(74),v(70),v(73),v(70),v(0),v(1),v(1),v(0),i(1),i(1),v(0),v(0)}function w(r,n){i(65472),i(17),v(8),i(n),i(r),v(3),v(1),v(17),v(0),v(2),v(17),v(1),v(3),v(17),v(1)}function y(){i(65499),i(132),v(0);for(var r=0;64>r;r++)v(_[r]);v(1);for(var n=0;64>n;n++)v(x[n])}function d(){i(65476),i(418),v(0);for(var r=0;16>r;r++)v(O[r+1]);for(var n=0;11>=n;n++)v(P[n]);v(16);for(var o=0;16>o;o++)v(Q[o+1]);for(var a=0;161>=a;a++)v(R[a]);v(1);for(var f=0;16>f;f++)v(T[f+1]);for(var e=0;11>=e;e++)v(U[e]);v(17);for(var t=0;16>t;t++)v(V[t+1]);for(var u=0;161>=u;u++)v(W[u])}function A(){i(65498),i(12),v(3),v(1),v(0),v(2),v(17),v(3),v(17),v(0),v(63),v(0)}function h(r,n,o,a,f){for(var e,v=f[0],i=f[240],c=16,w=63,y=64,d=u(r,n),A=0;y>A;++A)B[L[A]]=d[A];var h=B[0]-o;o=B[0],0==h?t(a[0]):(e=32767+h,t(a[q[e]]),t(k[e]));for(var p=63;p>0&&0==B[p];p--);if(0==p)return t(v),o;for(var s,m=1;p>=m;){for(var g=m;0==B[m]&&p>=m;++m);var l=m-g;if(l>=c){s=l>>4;for(var j=1;s>=j;++j)t(i);l=15&l}e=32767+B[m],t(f[(l<<4)+q[e]]),t(k[e]),m++}return p!=w&&t(v),o}function p(){for(var r=String.fromCharCode,n=0;256>n;n++)J[n]=r(n)}function s(r){if(0>=r&&(r=1),r>100&&(r=100),M!=r){var o=0;o=Math.floor(50>r?5e3/r:200-2*r),n(o),M=r}}function m(){r||(r=50),p(),a(),f(),e(),s(r)}var g,l,j,b,M,C=(Math.round,Math.floor),_=new Array(64),x=new Array(64),N=new Array(64),S=new Array(64),k=new Array(65535),q=new Array(65535),z=new Array(64),B=new Array(64),D=[],E=0,F=7,G=new Array(64),H=new Array(64),I=new Array(64),J=new Array(256),K=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(r,n){n&&s(n),D=new Array,E=0,F=7,i(65496),c(),y(),w(r.width,r.height),d(),A();var o=0,a=0,f=0;E=0,F=7,this.encode.displayName="_encode_";for(var e,v,u,p,m,M,C,_,x,k=r.data,q=r.width,z=r.height,B=4*q,J=0;z>J;){for(e=0;B>e;){for(m=B*J+e,M=m,C=-1,_=0,x=0;64>x;x++)_=x>>3,C=4*(7&x),M=m+_*B+C,J+_>=z&&(M-=B*(J+1+_-z)),e+C>=B&&(M-=e+C-B+4),v=k[M++],u=k[M++],p=k[M++],G[x]=(K[v]+K[u+256>>0]+K[p+512>>0]>>16)-128,H[x]=(K[v+768>>0]+K[u+1024>>0]+K[p+1280>>0]>>16)-128,I[x]=(K[v+1280>>0]+K[u+1536>>0]+K[p+1792>>0]>>16)-128;o=h(G,N,o,g,j),a=h(H,S,a,l,b),f=h(I,S,f,l,b),e+=32}J+=8}if(F>=0){var L=[];L[1]=F+1,L[0]=(1<<F+1)-1,t(L)}i(65497);var O="data:image/jpeg;base64,"+btoa(D.join(""));return D=[],O},m()}a.encode=function(r,n){var o=new a(n);return o.encode(r)},o.exports=a});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/jpegencoder__0c1fa02.map
;define("component:components/webuploader/runtime/html5/androidpatch.js",function(e){var n,t=e("component:components/webuploader/runtime/html5/util.js"),o=e("component:components/webuploader/runtime/html5/jpegencoder.js"),a=e("component:components/webuploader/base.js"),p=t.canvasToDataUrl;t.canvasToDataUrl=function(e,t,r){var m,d,l,s,u;return a.os.android?("image/jpeg"===t&&"undefined"==typeof n&&(s=p.apply(null,arguments),u=s.split(","),s=~u[0].indexOf("base64")?atob(u[1]):decodeURIComponent(u[1]),s=s.substring(0,2),n=255===s.charCodeAt(0)&&216===s.charCodeAt(1)),"image/jpeg"!==t||n?p.apply(null,arguments):(d=e.width,l=e.height,m=e.getContext("2d"),o.encode(m.getImageData(0,0,d,l),r))):p.apply(null,arguments)}});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/androidpatch__446cfa5.map
;define("component:components/webuploader/runtime/html5/image.js",function(t,e,a){var i=t("component:components/webuploader/base.js"),n=t("component:components/webuploader/runtime/html5/runtime.js"),r=t("component:components/webuploader/runtime/html5/util.js"),s="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";a.exports=n.register("Image",{modified:!1,init:function(){var t=this,e=new Image;e.onload=function(){t._info={type:t.type,width:this.width,height:this.height},t._metas||"image/jpeg"!==t.type?t.owner.trigger("load"):r.parseMeta(t._blob,function(e,a){t._metas=a,t.owner.trigger("load")})},e.onerror=function(){t.owner.trigger("error")},t._img=e},loadFromBlob:function(t){var e=this,a=e._img;e._blob=t,e.type=t.type,a.src=r.createObjectURL(t.getSource()),e.owner.once("load",function(){r.revokeObjectURL(a.src)})},resize:function(t,e){var a=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,a,t,e),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(t,e,a,i,n){var r=this._canvas||(this._canvas=document.createElement("canvas")),s=this.options,o=this._img,h=o.naturalWidth,c=o.naturalHeight,g=this.getOrientation();n=n||1,r.width=a,r.height=i,s.preserveHeaders||this._rotate2Orientaion(r,g),this._renderImageToCanvas(r,o,-t,-e,h*n,c*n),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(t){var e,a=this._blob,i=this.options;if(t=t||this.type,this.modified||this.type!==t){if(e=this._canvas,"image/jpeg"===t){if(a=r.canvasToDataUrl(e,t,i.quality),i.preserveHeaders&&this._metas&&this._metas.imageHead)return a=r.dataURL2ArrayBuffer(a),a=r.updateImageHead(a,this._metas.imageHead),a=r.arrayBufferToBlob(a,t)}else a=r.canvasToDataUrl(e,t);a=r.dataURL2Blob(a)}return a},getAsDataUrl:function(t){var e=this.options;return t=t||this.type,"image/jpeg"===t?r.canvasToDataUrl(this._canvas,t,e.quality):this._canvas.toDataURL(t)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(t){return t?(this._info=t,this):this._info},meta:function(t){return t?(this._meta=t,this):this._meta},destroy:function(){var t=this._canvas;this._img.onload=null,t&&(t.getContext("2d").clearRect(0,0,t.width,t.height),t.width=t.height=0,this._canvas=null),this._img.src=s,this._img=this._blob=null},_resize:function(t,e,a,i){var n,r,s,o,h,c=this.options,g=t.width,l=t.height,m=this.getOrientation();~[5,6,7,8].indexOf(m)&&(a^=i,i^=a,a^=i),n=Math[c.crop?"max":"min"](a/g,i/l),c.allowMagnify||(n=Math.min(1,n)),r=g*n,s=l*n,c.crop?(e.width=a,e.height=i):(e.width=r,e.height=s),o=(e.width-r)/2,h=(e.height-s)/2,c.preserveHeaders||this._rotate2Orientaion(e,m),this._renderImageToCanvas(e,t,o,h,r,s)},_rotate2Orientaion:function(t,e){var a=t.width,i=t.height,n=t.getContext("2d");switch(e){case 5:case 6:case 7:case 8:t.width=i,t.height=a}switch(e){case 2:n.translate(a,0),n.scale(-1,1);break;case 3:n.translate(a,i),n.rotate(Math.PI);break;case 4:n.translate(0,i),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-i);break;case 7:n.rotate(.5*Math.PI),n.translate(a,-i),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-a,0)}},_renderImageToCanvas:function(){function t(t,e,a){var i,n,r,s=document.createElement("canvas"),o=s.getContext("2d"),h=0,c=a,g=a;for(s.width=1,s.height=a,o.drawImage(t,0,0),i=o.getImageData(0,0,1,a).data;g>h;)n=i[4*(g-1)+3],0===n?c=g:h=g,g=c+h>>1;return r=g/a,0===r?1:r}function e(t){var e,a,i=t.naturalWidth,n=t.naturalHeight;return i*n>1048576?(e=document.createElement("canvas"),e.width=e.height=1,a=e.getContext("2d"),a.drawImage(t,-i+1,0),0===a.getImageData(0,0,1,1).data[3]):!1}return i.os.ios?i.os.ios>=7?function(e,a,i,n,r,s){var o=a.naturalWidth,h=a.naturalHeight,c=t(a,o,h);return e.getContext("2d").drawImage(a,0,0,o*c,h*c,i,n,r,s)}:function(a,i,n,r,s,o){var h,c,g,l,m,d,u,f=i.naturalWidth,p=i.naturalHeight,_=a.getContext("2d"),v=e(i),w="image/jpeg"===this.type,b=1024,A=0,I=0;for(v&&(f/=2,p/=2),_.save(),h=document.createElement("canvas"),h.width=h.height=b,c=h.getContext("2d"),g=w?t(i,f,p):1,l=Math.ceil(b*s/f),m=Math.ceil(b*o/p/g);p>A;){for(d=0,u=0;f>d;)c.clearRect(0,0,b,b),c.drawImage(i,-d,-A),_.drawImage(h,0,0,b,b,n+u,r+I,l,m),d+=b,u+=l;A+=b,I+=m}_.restore(),h=c=null}:function(t){var e=i.slice(arguments,1),a=t.getContext("2d");a.drawImage.apply(a,e)}}()})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/image__c368d12.map
;define("component:components/webuploader/runtime/html5/transport.js",function(e,t,n){var r=e("component:components/webuploader/base.js"),s=e("component:components/webuploader/runtime/html5/runtime.js"),o=r.noop,a=r.$;n.exports=s.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var e,t,n,s=this.owner,o=this.options,i=this._initAjax(),u=s._blob,p=o.server;o.sendAsBinary?(p+=(/\?/.test(p)?"&":"?")+a.param(s._formData),t=u.getSource()):(e=new FormData,a.each(s._formData,function(t,n){e.append(t,n)}),e.append(o.fileVal,u.getSource(),o.filename||s._formData.name||"")),o.withCredentials&&"withCredentials"in i?(i.open(o.method,p,!0),i.withCredentials=!0):i.open(o.method,p),this._setRequestHeader(i,o.headers),t?(i.overrideMimeType&&i.overrideMimeType("application/octet-stream"),r.os.android?(n=new FileReader,n.onload=function(){i.send(this.result),n=n.onload=null},n.readAsArrayBuffer(t)):i.send(t)):i.send(e)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=o,e.onreadystatechange=o,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new XMLHttpRequest,n=this.options;return!n.withCredentials||"withCredentials"in t||"undefined"==typeof XDomainRequest||(t=new XDomainRequest),t.upload.onprogress=function(t){var n=0;return t.lengthComputable&&(n=t.loaded/t.total),e.trigger("progress",n)},t.onreadystatechange=function(){return 4===t.readyState?(t.upload.onprogress=o,t.onreadystatechange=o,e._xhr=null,e._status=t.status,t.status>=200&&t.status<300?(e._response=t.responseText,e.trigger("load")):t.status>=500&&t.status<600?(e._response=t.responseText,e.trigger("error","server")):e.trigger("error",e._status?"http":"abort")):void 0},e._xhr=t,t},_setRequestHeader:function(e,t){a.each(t,function(t,n){e.setRequestHeader(t,n)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(n){t={}}return t}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/transport__2cc99f7.map
;define("component:components/webuploader/runtime/html5/md5.js",function(t,r,e){var n=t("component:components/webuploader/runtime/html5/runtime.js"),o=function(t,r){return t+r&4294967295},i=function(t,r,e,n,i,s){return r=o(o(r,t),o(n,s)),o(r<<i|r>>>32-i,e)},s=function(t,r,e,n,o,s,u){return i(r&e|~r&n,t,r,o,s,u)},u=function(t,r,e,n,o,s,u){return i(r&n|e&~n,t,r,o,s,u)},f=function(t,r,e,n,o,s,u){return i(r^e^n,t,r,o,s,u)},a=function(t,r,e,n,o,s,u){return i(e^(r|~n),t,r,o,s,u)},h=function(t,r){var e=t[0],n=t[1],i=t[2],h=t[3];e=s(e,n,i,h,r[0],7,-680876936),h=s(h,e,n,i,r[1],12,-389564586),i=s(i,h,e,n,r[2],17,606105819),n=s(n,i,h,e,r[3],22,-1044525330),e=s(e,n,i,h,r[4],7,-176418897),h=s(h,e,n,i,r[5],12,1200080426),i=s(i,h,e,n,r[6],17,-1473231341),n=s(n,i,h,e,r[7],22,-45705983),e=s(e,n,i,h,r[8],7,1770035416),h=s(h,e,n,i,r[9],12,-1958414417),i=s(i,h,e,n,r[10],17,-42063),n=s(n,i,h,e,r[11],22,-1990404162),e=s(e,n,i,h,r[12],7,1804603682),h=s(h,e,n,i,r[13],12,-40341101),i=s(i,h,e,n,r[14],17,-1502002290),n=s(n,i,h,e,r[15],22,1236535329),e=u(e,n,i,h,r[1],5,-165796510),h=u(h,e,n,i,r[6],9,-1069501632),i=u(i,h,e,n,r[11],14,643717713),n=u(n,i,h,e,r[0],20,-373897302),e=u(e,n,i,h,r[5],5,-701558691),h=u(h,e,n,i,r[10],9,38016083),i=u(i,h,e,n,r[15],14,-660478335),n=u(n,i,h,e,r[4],20,-405537848),e=u(e,n,i,h,r[9],5,568446438),h=u(h,e,n,i,r[14],9,-1019803690),i=u(i,h,e,n,r[3],14,-187363961),n=u(n,i,h,e,r[8],20,1163531501),e=u(e,n,i,h,r[13],5,-1444681467),h=u(h,e,n,i,r[2],9,-51403784),i=u(i,h,e,n,r[7],14,1735328473),n=u(n,i,h,e,r[12],20,-1926607734),e=f(e,n,i,h,r[5],4,-378558),h=f(h,e,n,i,r[8],11,-2022574463),i=f(i,h,e,n,r[11],16,1839030562),n=f(n,i,h,e,r[14],23,-35309556),e=f(e,n,i,h,r[1],4,-1530992060),h=f(h,e,n,i,r[4],11,1272893353),i=f(i,h,e,n,r[7],16,-155497632),n=f(n,i,h,e,r[10],23,-1094730640),e=f(e,n,i,h,r[13],4,681279174),h=f(h,e,n,i,r[0],11,-358537222),i=f(i,h,e,n,r[3],16,-722521979),n=f(n,i,h,e,r[6],23,76029189),e=f(e,n,i,h,r[9],4,-640364487),h=f(h,e,n,i,r[12],11,-421815835),i=f(i,h,e,n,r[15],16,530742520),n=f(n,i,h,e,r[2],23,-995338651),e=a(e,n,i,h,r[0],6,-198630844),h=a(h,e,n,i,r[7],10,1126891415),i=a(i,h,e,n,r[14],15,-1416354905),n=a(n,i,h,e,r[5],21,-57434055),e=a(e,n,i,h,r[12],6,1700485571),h=a(h,e,n,i,r[3],10,-1894986606),i=a(i,h,e,n,r[10],15,-1051523),n=a(n,i,h,e,r[1],21,-2054922799),e=a(e,n,i,h,r[8],6,1873313359),h=a(h,e,n,i,r[15],10,-30611744),i=a(i,h,e,n,r[6],15,-1560198380),n=a(n,i,h,e,r[13],21,1309151649),e=a(e,n,i,h,r[4],6,-145523070),h=a(h,e,n,i,r[11],10,-1120210379),i=a(i,h,e,n,r[2],15,718787259),n=a(n,i,h,e,r[9],21,-343485551),t[0]=o(e,t[0]),t[1]=o(n,t[1]),t[2]=o(i,t[2]),t[3]=o(h,t[3])},c=function(t){var r,e=[];for(r=0;64>r;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e},p=function(t){var r,e=[];for(r=0;64>r;r+=4)e[r>>2]=t[r]+(t[r+1]<<8)+(t[r+2]<<16)+(t[r+3]<<24);return e},l=function(t){var r,e,n,o,i,s,u=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(r=64;u>=r;r+=64)h(f,c(t.substring(r-64,r)));for(t=t.substring(r-64),e=t.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;e>r;r+=1)n[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(n[r>>2]|=128<<(r%4<<3),r>55)for(h(f,n),r=0;16>r;r+=1)n[r]=0;return o=8*u,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),s=parseInt(o[1],16)||0,n[14]=i,n[15]=s,h(f,n),f},y=function(t){var r,e,n,o,i,s,u=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(r=64;u>=r;r+=64)h(f,p(t.subarray(r-64,r)));for(t=u>r-64?t.subarray(r-64):new Uint8Array(0),e=t.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;e>r;r+=1)n[r>>2]|=t[r]<<(r%4<<3);if(n[r>>2]|=128<<(r%4<<3),r>55)for(h(f,n),r=0;16>r;r+=1)n[r]=0;return o=8*u,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),s=parseInt(o[1],16)||0,n[14]=i,n[15]=s,h(f,n),f},d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],g=function(t){var r,e="";for(r=0;4>r;r+=1)e+=d[t>>8*r+4&15]+d[t>>8*r&15];return e},_=function(t){var r;for(r=0;r<t.length;r+=1)t[r]=g(t[r]);return t.join("")},b=function(t){return _(l(t))},A=function(){this.reset()};"5d41402abc4b2a76b9719d911017c592"!==b("hello")&&(o=function(t,r){var e=(65535&t)+(65535&r),n=(t>>16)+(r>>16)+(e>>16);return n<<16|65535&e}),A.prototype.append=function(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),this.appendBinary(t),this},A.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var r,e=this._buff.length;for(r=64;e>=r;r+=64)h(this._state,c(this._buff.substring(r-64,r)));return this._buff=this._buff.substr(r-64),this},A.prototype.end=function(t){var r,e,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;o>r;r+=1)i[r>>2]|=n.charCodeAt(r)<<(r%4<<3);return this._finish(i,o),e=t?this._state:_(this._state),this.reset(),e},A.prototype._finish=function(t,r){var e,n,o,i=r;if(t[i>>2]|=128<<(i%4<<3),i>55)for(h(this._state,t),i=0;16>i;i+=1)t[i]=0;e=8*this._length,e=e.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(e[2],16),o=parseInt(e[1],16)||0,t[14]=n,t[15]=o,h(this._state,t)},A.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},A.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},A.hash=function(t,r){/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t)));var e=l(t);return r?e:_(e)},A.hashBinary=function(t,r){var e=l(t);return r?e:_(e)},A.ArrayBuffer=function(){this.reset()},A.ArrayBuffer.prototype.append=function(t){var r,e=this._concatArrayBuffer(this._buff,t),n=e.length;for(this._length+=t.byteLength,r=64;n>=r;r+=64)h(this._state,p(e.subarray(r-64,r)));return this._buff=n>r-64?e.subarray(r-64):new Uint8Array(0),this},A.ArrayBuffer.prototype.end=function(t){var r,e,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;o>r;r+=1)i[r>>2]|=n[r]<<(r%4<<3);return this._finish(i,o),e=t?this._state:_(this._state),this.reset(),e},A.ArrayBuffer.prototype._finish=A.prototype._finish,A.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},A.ArrayBuffer.prototype.destroy=A.prototype.destroy,A.ArrayBuffer.prototype._concatArrayBuffer=function(t,r){var e=t.length,n=new Uint8Array(e+r.byteLength);return n.set(t),n.set(new Uint8Array(r),e),n},A.ArrayBuffer.hash=function(t,r){var e=y(new Uint8Array(t));return r?e:_(e)},e.exports=n.register("Md5",{init:function(){},loadFromBlob:function(t){var r,e,n=t.getSource(),o=2097152,i=Math.ceil(n.size/o),s=0,u=this.owner,f=new A.ArrayBuffer,a=this,h=n.mozSlice||n.webkitSlice||n.slice;e=new FileReader,(r=function(){var c,p;c=s*o,p=Math.min(c+o,n.size),e.onload=function(r){f.append(r.target.result),u.trigger("progress",{total:t.size,loaded:p})},e.onloadend=function(){e.onloadend=e.onload=null,++s<i?setTimeout(r,1):setTimeout(function(){u.trigger("load"),a.result=f.end(),r=t=n=f=null,u.trigger("complete")},50)},e.readAsArrayBuffer(h.call(n,c,p))})()},getResult:function(){return this.result}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/html5/md5__6bd6b83.map
;define("component:components/webuploader/runtime/flash/runtime.js",function(e,t,a){function s(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(a){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)}function i(){function e(e,t){var s,n,r=e.type||e;s=r.split("::"),n=s[0],r=s[1],"Ready"===r&&n===i.uid?i.trigger("ready"):a[n]&&a[n].trigger(r.toLowerCase(),e,t)}var t={},a={},s=this.destroy,i=this,o=n.guid("webuploader_");r.apply(i,arguments),i.type=u,i.exec=function(e,s){var r,o=this,c=o.uid,u=n.slice(arguments,2);return a[c]=o,h[e]&&(t[c]||(t[c]=new h[e](o,i)),r=t[c],r[s])?r[s].apply(r,u):i.flashExec.apply(o,arguments)},window[o]=function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)},this.jsreciver=o,this.destroy=function(){return s&&s.apply(this,arguments)},this.flashExec=function(e,t){var a=i.getFlash(),s=n.slice(arguments,2);return a.exec(this.uid,e,t,s)}}var n=e("component:components/webuploader/base.js"),r=e("component:components/webuploader/runtime/runtime.js"),o=e("component:components/webuploader/runtime/compbase.js"),c=n.$,u="flash",h={};n.inherits(r,{constructor:i,init:function(){var e,t=this.getContainer(),a=this.options;t.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),e='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+a.swf+'" ',n.browser.ie&&(e+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),e+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+a.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',t.html(e)},getFlash:function(){return this._flash?this._flash:(this._flash=c("#"+this.uid).get(0),this._flash)}}),i.register=function(e,t){return t=h[e]=n.inherits(o,c.extend({flashExec:function(){var e=this.owner,t=this.getRuntime();return t.flashExec.apply(e,arguments)}},t))},s()>=11.4&&r.addRuntime(u,i),a.exports=i});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/flash/runtime__194d20d.map
;define("component:components/webuploader/runtime/flash/filepicker.js",function(e,t,n){var i=e("component:components/webuploader/base.js"),c=e("component:components/webuploader/runtime/flash/runtime.js"),o=i.$;n.exports=c.register("FilePicker",{init:function(e){var t,n,i=o.extend({},e);for(t=i.accept&&i.accept.length,n=0;t>n;n++)i.accept[n].title||(i.accept[n].title="Files");delete i.button,delete i.id,delete i.container,this.flashExec("FilePicker","init",i)},destroy:function(){this.flashExec("FilePicker","destroy")}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/flash/filepicker__e664ed7.map
;define("component:components/webuploader/runtime/flash/image.js",function(e,o,n){var a=e("component:components/webuploader/runtime/flash/runtime.js");n.exports=a.register("Image",{loadFromBlob:function(e){var o=this.owner;o.info()&&this.flashExec("Image","info",o.info()),o.meta()&&this.flashExec("Image","meta",o.meta()),this.flashExec("Image","loadFromBlob",e.uid)}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/flash/image__4decdc0.map
;define("component:components/webuploader/runtime/flash/transport.js",function(e,t,n){var r=e("component:components/webuploader/base.js"),o=e("component:components/webuploader/runtime/flash/runtime.js"),s=e("component:components/webuploader/runtime/client.js"),i=r.$;n.exports=o.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var e,t=this.owner,n=this.options,r=this._initAjax(),o=t._blob,s=n.server;r.connectRuntime(o.ruid),n.sendAsBinary?(s+=(/\?/.test(s)?"&":"?")+i.param(t._formData),e=o.uid):(i.each(t._formData,function(e,t){r.exec("append",e,t)}),r.exec("appendBlob",n.fileVal,o.uid,n.filename||t._formData.name||"")),this._setRequestHeader(r,n.headers),r.exec("send",{method:n.method,url:s,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},e)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var e=this._xhr;e&&(e.exec("abort"),e.destroy(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new s("XMLHttpRequest");return t.on("uploadprogress progress",function(t){var n=t.loaded/t.total;return n=Math.min(1,Math.max(0,n)),e.trigger("progress",n)}),t.on("load",function(){var n,r=t.exec("getStatus"),o=!1,s="";return t.off(),e._xhr=null,r>=200&&300>r?o=!0:r>=500&&600>r?(o=!0,s="server"):s="http",o&&(e._response=t.exec("getResponse"),e._response=decodeURIComponent(e._response),n=window.JSON&&window.JSON.parse||function(e){try{return new Function("return "+e).call()}catch(t){return{}}},e._responseJson=e._response?n(e._response):{}),t.destroy(),t=null,s?e.trigger("error",s):e.trigger("load")}),t.on("error",function(){t.off(),e._xhr=null,e.trigger("error","http")}),e._xhr=t,t},_setRequestHeader:function(e,t){i.each(t,function(t,n){e.exec("setRequestHeader",t,n)})}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/flash/transport__a557439.map
;define("component:components/webuploader/runtime/flash/blob.js",function(e,n,o){var t=e("component:components/webuploader/runtime/flash/runtime.js"),s=e("component:components/webuploader/lib/blob.js");o.exports=t.register("Blob",{slice:function(e,n){var o=this.flashExec("Blob","slice",e,n);return new s(o.uid,o)}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/flash/blob__fd39d98.map
;define("component:components/webuploader/runtime/flash/md5.js",function(n,o,e){var t=n("component:components/webuploader/runtime/flash/runtime.js");e.exports=t.register("Md5",{init:function(){},loadFromBlob:function(n){return this.flashExec("Md5","loadFromBlob",n.uid)}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/runtime/flash/md5__93ecb9e.map
;define("component:components/webuploader/preset/all.js",function(e,o,n){var t=e("component:components/webuploader/base.js");e("component:components/webuploader/widgets/filednd.js"),e("component:components/webuploader/widgets/filepaste.js"),e("component:components/webuploader/widgets/filepicker.js"),e("component:components/webuploader/widgets/image.js"),e("component:components/webuploader/widgets/queue.js"),e("component:components/webuploader/widgets/runtime.js"),e("component:components/webuploader/widgets/upload.js"),e("component:components/webuploader/widgets/validator.js"),e("component:components/webuploader/widgets/md5.js"),e("component:components/webuploader/runtime/html5/blob.js"),e("component:components/webuploader/runtime/html5/dnd.js"),e("component:components/webuploader/runtime/html5/filepaste.js"),e("component:components/webuploader/runtime/html5/filepicker.js"),e("component:components/webuploader/runtime/html5/imagemeta/exif.js"),e("component:components/webuploader/runtime/html5/androidpatch.js"),e("component:components/webuploader/runtime/html5/image.js"),e("component:components/webuploader/runtime/html5/transport.js"),e("component:components/webuploader/runtime/html5/md5.js"),e("component:components/webuploader/runtime/flash/filepicker.js"),e("component:components/webuploader/runtime/flash/image.js"),e("component:components/webuploader/runtime/flash/transport.js"),e("component:components/webuploader/runtime/flash/blob.js"),e("component:components/webuploader/runtime/flash/md5.js"),n.exports=t});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/preset/all__5fd2301.map
;define("component:components/webuploader/preset/flashonly.js",function(e,o,n){var p=e("component:components/webuploader/base.js");e("component:components/webuploader/widgets/filepicker.js"),e("component:components/webuploader/widgets/image.js"),e("component:components/webuploader/widgets/queue.js"),e("component:components/webuploader/widgets/runtime.js"),e("component:components/webuploader/widgets/upload.js"),e("component:components/webuploader/widgets/validator.js"),e("component:components/webuploader/runtime/flash/filepicker.js"),e("component:components/webuploader/runtime/flash/image.js"),e("component:components/webuploader/runtime/flash/blob.js"),e("component:components/webuploader/runtime/flash/transport.js"),n.exports=p});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/preset/flashonly__cd388df.map
;define("component:components/webuploader/preset/html5only.js",function(e,o,n){var t=e("component:components/webuploader/base.js");e("component:components/webuploader/widgets/filednd.js"),e("component:components/webuploader/widgets/filepaste.js"),e("component:components/webuploader/widgets/filepicker.js"),e("component:components/webuploader/widgets/image.js"),e("component:components/webuploader/widgets/queue.js"),e("component:components/webuploader/widgets/runtime.js"),e("component:components/webuploader/widgets/upload.js"),e("component:components/webuploader/widgets/validator.js"),e("component:components/webuploader/runtime/html5/blob.js"),e("component:components/webuploader/runtime/html5/dnd.js"),e("component:components/webuploader/runtime/html5/filepaste.js"),e("component:components/webuploader/runtime/html5/filepicker.js"),e("component:components/webuploader/runtime/html5/imagemeta/exif.js"),e("component:components/webuploader/runtime/html5/image.js"),e("component:components/webuploader/runtime/html5/transport.js"),n.exports=t});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/preset/html5only__8134d87.map
;define("component:components/webuploader/preset/withoutimage.js",function(e,o,n){var t=e("component:components/webuploader/base.js");e("component:components/webuploader/widgets/filednd.js"),e("component:components/webuploader/widgets/filepaste.js"),e("component:components/webuploader/widgets/filepicker.js"),e("component:components/webuploader/widgets/queue.js"),e("component:components/webuploader/widgets/runtime.js"),e("component:components/webuploader/widgets/upload.js"),e("component:components/webuploader/widgets/validator.js"),e("component:components/webuploader/runtime/html5/blob.js"),e("component:components/webuploader/runtime/html5/dnd.js"),e("component:components/webuploader/runtime/html5/filepaste.js"),e("component:components/webuploader/runtime/html5/filepicker.js"),e("component:components/webuploader/runtime/html5/transport.js"),e("component:components/webuploader/runtime/flash/filepicker.js"),e("component:components/webuploader/runtime/flash/transport.js"),e("component:components/webuploader/runtime/flash/blob.js"),n.exports=t});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/preset/withoutimage__b35bba7.map
;define("component:components/webuploader/promise-builtin.js",function(n,e,t){function i(n){var e,t,i,r,o,u,c=[],a=!n&&[],f=function(n){for(u=n,e=!0,o=i||0,i=0,r=c.length,t=!0;c&&r>o;o++)c[o].apply(n[0],n[1]);t=!1,c&&(a?a.length&&f(a.shift()):c=[])},l={add:function(){if(c){var n=c.length;!function e(n){s.each(n,function(n,t){var i=s.type(t);"function"===i?c.push(t):t&&t.length&&"string"!==i&&e(t)})}(arguments),t?r=c.length:u&&(i=n,f(u))}return this},disable:function(){return c=a=u=void 0,this},lock:function(){return a=void 0,u||l.disable(),this},fireWith:function(n,i){return!c||e&&!a||(i=i||[],i=[n,i.slice?i.slice():i],t?a.push(i):f(i)),this},fire:function(){return l.fireWith(this,arguments),this}};return l}function r(n){var e=[["resolve","done",i(!0),"resolved"],["reject","fail",i(!0),"rejected"],["notify","progress",i()]],t="pending",o={state:function(){return t},always:function(){return u.done(arguments).fail(arguments),this},then:function(){var n=arguments;return r(function(t){s.each(e,function(e,i){var r=i[0],c=s.isFunction(n[e])&&n[e];u[i[1]](function(){var n;n=c&&c.apply(this,arguments),n&&s.isFunction(n.promise)?n.promise().done(t.resolve).fail(t.reject).progress(t.notify):t[r+"With"](this===o?t.promise():this,c?[n]:arguments)})}),n=null}).promise()},promise:function(n){return null!=n?s.extend(n,o):o}},u={};return o.pipe=o.then,s.each(e,function(n,i){var r=i[2],s=i[3];o[i[1]]=r.add,s&&r.add(function(){t=s},e[1^n][2].disable,e[2][2].lock),u[i[0]]=function(){return u[i[0]+"With"](this===u?o:this,arguments),this},u[i[0]+"With"]=r.fireWith}),o.promise(u),n&&n.call(u,u),u}var o,s=n("component:components/webuploader/dollar.js");o={Deferred:r,isPromise:function(n){return n&&"function"==typeof n.then},when:function(n){var e,t,i,o=0,u=[].slice,c=u.call(arguments),a=c.length,f=1!==a||n&&s.isFunction(n.promise)?a:0,l=1===f?n:r(),h=function(n,t,i){return function(r){t[n]=this,i[n]=arguments.length>1?u.call(arguments):r,i===e?l.notifyWith(t,i):--f||l.resolveWith(t,i)}};if(a>1)for(e=new Array(a),t=new Array(a),i=new Array(a);a>o;o++)c[o]&&s.isFunction(c[o].promise)?c[o].promise().done(h(o,i,c)).fail(l.reject).progress(h(o,t,e)):--f;return f||l.resolveWith(i,c),l.promise()}},t.exports=o});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/promise-builtin__8192235.map
;define("component:components/webuploader/widgets/log.js",function(e,o,n){function t(e){var o=i.extend({},a,e),n=p.replace(/^(.*)\?/,"$1"+i.param(o)),t=new Image;t.src=n}var c=e("component:components/webuploader/base.js"),r=e("component:components/webuploader/uploader.js");e("component:components/webuploader/widgets/widget.js");var a,i=c.$,p=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",s=(location.hostname||location.host||"protected").toLowerCase(),d=s&&/baidu/i.exec(s);d&&(a={dv:3,master:"webuploader",online:/test/.exec(s)?0:1,module:"",product:s,type:0},n.exports=r.register({name:"log",init:function(){var e=this.owner,o=0,n=0;e.on("error",function(e){t({type:2,c_error_code:e})}).on("uploadError",function(e,o){t({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+o})}).on("uploadComplete",function(e){o++,n+=e.size}).on("uploadFinished",function(){t({c_count:o,c_size:n}),o=n=0}),t({c_usage:1})}}))});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/widgets/log__13b9d13.map
;define("component:components/webuploader/webuploader.js",function(e,o,n){var p=e("component:components/webuploader/preset/all.js");e("component:components/webuploader/widgets/log.js"),n.exports=p});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/webuploader/webuploader__1cd3f04.map