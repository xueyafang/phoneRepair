define("component:components/jquery-form-validator/lib/date.dev.js",function(r){"use strict";var e=r("component:components/jquery/jquery.js");e.formUtils.addValidator({name:"time",validatorFunction:function(r){if(null===r.match(/^(\d{2}):(\d{2})$/))return!1;var e=parseInt(r.split(":")[0],10),t=parseInt(r.split(":")[1],10);return e>23||t>59?!1:!0},errorMessage:"",errorMessageKey:"badTime"}),e.formUtils.addValidator({name:"birthdate",validatorFunction:function(r,t,a){var n="yyyy-mm-dd";t.valAttr("format")?n=t.valAttr("format"):"undefined"!=typeof a.dateFormat&&(n=a.dateFormat);var o=e.formUtils.parseDate(r,n);if(!o)return!1;var i=new Date,d=i.getFullYear(),s=o[0],m=o[1],u=o[2];if(s===d){var l=i.getMonth()+1;if(m===l){var f=i.getDate();return f>=u}return l>m}return d>s&&s>d-124},errorMessage:"",errorMessageKey:"badDate"})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/date.dev__e482cd2.map
;define("component:components/jquery-form-validator/lib/file.dev.js",function(e){"use strict";var t=e("component:components/jquery/jquery.js"),i="undefined"!=typeof window.FileReader,r=function(e){var i=t.split((e.valAttr("allowing")||"").toLowerCase());return t.inArray("jpg",i)>-1&&-1==t.inArray("jpeg",i)?i.push("jpeg"):t.inArray("jpeg",i)>-1&&-1==t.inArray("jpg",i)&&i.push("jpg"),i},n=function(e,t,i,r){var n=r[t]||"";e.errorMessageKey="",e.errorMessage=n.replace("%s",i)},a=function(e){window.console&&window.console.log&&window.console.log(e)},o=function(e,i,r){var n=new FileReader,a=new Image;n.readAsDataURL(e),n.onload=function(e){a.onload=function(){t(window).trigger("imageValidation",[this]),i(this)},a.onerror=function(){r()},a.src=e.target.result}};t.formUtils.addValidator({name:"mime",validatorFunction:function(e,o,s,l){if(i){var d=!0,u=o.get(0).files||[],h="",f=r(o);return u.length&&(t.each(u,function(e,i){return d=!1,h=i.type||"",t.each(f,function(e,t){return d=h.indexOf(t)>-1,d?!1:void 0}),d}),d||(a("Trying to upload a file with mime type "+h+" which is not allowed"),n(this,"wrongFileType",f.join(", "),l))),d}return a("FileReader not supported by browser, will check file extension"),t.formUtils.validators.validate_extension.validatorFunction(e,o,s,l)},errorMessage:"",errorMessageKey:"wrongFileType"}),t.formUtils.addValidator({name:"extension",validatorFunction:function(e,i,a,o){var s=!0,l=this,d=r(i);return t.each(i.get(0).files||[e],function(e,i){var r="string"==typeof i?i:i.value||i.fileName||i.name,a=r.substr(r.lastIndexOf(".")+1);return-1==t.inArray(a.toLowerCase(),d)?(s=!1,n(l,"wrongFileType",d.join(", "),o),!1):void 0}),s},errorMessage:"",errorMessageKey:"wrongFileType"}),t.formUtils.addValidator({name:"size",validatorFunction:function(e,r,o,s){var l=r.valAttr("max-size");if(!l)return a('Input "'+r.attr("name")+'" is missing data-validation-max-size attribute'),!0;if(!i)return!0;var d=t.formUtils.convertSizeNameToBytes(l),u=!0;return t.each(r.get(0).files||[],function(e,t){return u=t.size<=d}),u||n(this,"wrongFileSize",l,s),u},errorMessage:"",errorMessageKey:"wrongFileSize"}),t.formUtils.convertSizeNameToBytes=function(e){return e=e.toUpperCase(),"M"==e.substr(e.length-1,1)?1024*parseInt(e.substr(0,e.length-1),10)*1024:"MB"==e.substr(e.length-2,2)?1024*parseInt(e.substr(0,e.length-2),10)*1024:"KB"==e.substr(e.length-2,2)?1024*parseInt(e.substr(0,e.length-2),10):"B"==e.substr(e.length-1,1)?parseInt(e.substr(0,e.length-1),10):parseInt(e,10)};var s=function(){return!1};t.formUtils.checkImageDimension=function(e,t,i){var r=!1,n={width:0,height:0},a=function(e){e=e.replace("min","").replace("max","");var t=e.split("x");n.width=t[0],n.height=t[1]?t[1]:t[0]},o=!1,s=!1,l=t.split("-");return 1==l.length?0===l[0].indexOf("min")?o=l[0]:s=l[0]:(o=l[0],s=l[1]),o&&(a(o),(e.width<n.width||e.height<n.height)&&(r=i.imageTooSmall+" ("+i.min+" "+n.width+"x"+n.height+"px)")),!r&&s&&(a(s),(e.width>n.width||e.height>n.height)&&(r=e.width>n.width?i.imageTooWide+" "+n.width+"px":i.imageTooTall+" "+n.height+"px",r+=" ("+i.max+" "+n.width+"x"+n.height+"px)")),r},t.formUtils.checkImageRatio=function(e,t,i){var r=e.width/e.height,n=function(e){var t=e.replace("max","").replace("min","").split(":");return t[0]/t[1]},a=t.split("-"),o=function(e,t,i){return e>=t&&i>=e};if(1==a.length){if(r!==n(a[0]))return i.imageRatioNotAccepted}else if(2==a.length&&!o(r,n(a[0]),n(a[1])))return i.imageRatioNotAccepted;return!1},t.formUtils.addValidator({name:"dimension",validatorFunction:function(e,r,n,a,l){if(i){var d=!0,u=r.get(0).files||[];if(-1==r.attr("data-validation").indexOf("mime"))return!1;if(u.length>1)return!1;if(0==u.length)return!0;if(r.valAttr("has-valid-dim"))return!0;if(r.valAttr("has-not-valid-dim"))return this.errorMessage=a.wrongFileDim+" "+r.valAttr("has-not-valid-dim"),!1;if("keyup"==t.formUtils.eventType)return null;var h=!1;return t.formUtils.isValidatingEntireForm&&(h=!0,t.formUtils.haltValidation=!0,l.bind("submit",s).addClass("on-blur")),o(u[0],function(e){var i=!1;r.valAttr("dimension")&&(i=t.formUtils.checkImageDimension(e,r.valAttr("dimension"),a)),!i&&r.valAttr("ratio")&&(i=t.formUtils.checkImageRatio(e,r.valAttr("ratio"),a)),i?r.valAttr("has-not-valid-dim",i):r.valAttr("has-valid-dim","true"),r.valAttr("has-keyup-event")||r.valAttr("has-keyup-event","1").bind("keyup change",function(e){9!=e.keyCode&&16!=e.keyCode&&t(this).valAttr("has-not-valid-dim",!1).valAttr("has-valid-dim",!1)}),h?(t.formUtils.haltValidation=!1,l.removeClass("on-blur").get(0).onsubmit=function(){},l.unbind("submit",s),l.trigger("submit")):r.trigger("blur")},function(e){throw e}),!0}return d},errorMessage:"",errorMessageKey:""}),t(window).one("validatorsLoaded formValidationSetup",function(e,i){var r;r=i?i.find('input[type="file"]'):t('input[type="file"]'),r.filter("*[data-validation]").bind("change",function(){t(this).removeClass("error").parent().find(".form-error").remove()})})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/file.dev__ca37f6f.map
;define("component:components/jquery-form-validator/lib/html5.dev.js",function(t){"use strict";var a=t("component:components/jquery/jquery.js"),e="placeholder"in document.createElement("INPUT"),i="options"in document.createElement("DATALIST"),n=!1,l=function(t){t.each(function(){var t=a(this),l=t.find("input,textarea,select"),r=!1;l.each(function(){var t=[],e=a(this),l=e.attr("required"),o={};switch((e.attr("type")||"").toLowerCase()){case"time":t.push("time"),a.formUtils.validators.validate_date||n||(n=!0,a.formUtils.loadModules("date"));break;case"url":t.push("url");break;case"email":t.push("email");break;case"date":t.push("date");break;case"number":t.push("number");var s=e.attr("max"),d=e.attr("min");(d||s)&&(d||(d="0"),s||(s="9007199254740992"),o["data-validation-allowing"]="range["+d+";"+s+"]",(0===d.indexOf("-")||0===s.indexOf("-"))&&(o["data-validation-allowing"]+=",negative"),(d.indexOf(".")>-1||s.indexOf(".")>-1)&&(o["data-validation-allowing"]+=",float"))}if(e.attr("pattern")&&(t.push("custom"),o["data-validation-regexp"]=e.attr("pattern")),e.attr("maxlength")&&(t.push("length"),o["data-validation-length"]="max"+e.attr("maxlength")),!i&&e.attr("list")){var u=[],h=a("#"+e.attr("list"));if(h.find("option").each(function(){u.push(a(this).text())}),0==u.length){var c=a.trim(a("#"+e.attr("list")).text()).split("\n");a.each(c,function(t,e){u.push(a.trim(e))})}h.remove(),a.formUtils.suggest(e,u)}l&&0==t.length&&t.push("required"),t.length&&(l||(o["data-validation-optional"]="true"),r=!0,e.attr("data-validation",t.join(" ")),a.each(o,function(t,a){e.attr(t,a)}))}),r&&t.trigger("html5ValidationAttrsFound"),e||l.filter("input[placeholder]").each(function(){this.defaultValue=this.getAttribute("placeholder"),a(this).bind("focus",function(){this.value==this.defaultValue&&(this.value="",a(this).removeClass("showing-placeholder"))}).bind("blur",function(){""==a.trim(this.value)&&(this.value=this.defaultValue,a(this).addClass("showing-placeholder"))})})})};a(window).bind("validatorsLoaded formValidationSetup",function(t,e){e||(e=a("form")),l(e)}),a.formUtils.setupValidationUsingHTML5Attr=l});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/html5.dev__69ddb80.map
;define("component:components/jquery-form-validator/lib/jquery.form-validator.js",function(e){"use strict";var t=e("component:components/jquery/jquery.js"),a=t(window),r=function(e){if(e.valAttr("error-msg-container"))return t(e.valAttr("error-msg-container"));var a=e.parent();if(!a.hasClass("form-group")&&!a.closest("form").hasClass("form-horizontal")){var r=a.closest(".form-group");if(r.length)return r.eq(0)}return a},n=function(e,t){e.addClass(t.errorElementClass).removeClass("valid"),r(e).addClass(t.inputParentClassOnError).removeClass(t.inputParentClassOnSuccess),""!==t.borderColorOnError&&e.css("border-color",t.borderColorOnError)},i=function(e,a){e.each(function(){var e=t(this);o(e,"",a,a.errorMessagePosition),e.removeClass("valid").removeClass(a.errorElementClass).css("border-color",""),r(e).removeClass(a.inputParentClassOnError).removeClass(a.inputParentClassOnSuccess).find("."+a.errorMessageClass).remove()})},o=function(e,n,i,o){var s=document.getElementById(e.attr("name")+"_err_msg"),l=function(t){a.trigger("validationErrorDisplay",[e,t]),t.html(n)};if(s)l(t(s));else if("object"==typeof o){var d=!1;if(o.find("."+i.errorMessageClass).each(function(){return this.inputReferer==e[0]?(d=t(this),!1):void 0}),d)n?l(d):d.remove();else{var u=t('<div class="'+i.errorMessageClass+'"></div>');l(u),u[0].inputReferer=e[0],o.prepend(u)}}else{var c=r(e),u=c.find("."+i.errorMessageClass+".help-block");0==u.length&&(u=t("<span></span>").addClass("help-block").addClass(i.errorMessageClass),u.appendTo(c)),l(u)}},s=function(e,a,r,n){var i,o=n.errorMessageTemplate.messages.replace(/\{errorTitle\}/g,a),s=[];t.each(r,function(e,t){s.push(n.errorMessageTemplate.field.replace(/\{msg\}/g,t))}),o=o.replace(/\{fields\}/g,s.join("")),i=n.errorMessageTemplate.container.replace(/\{errorMessageClass\}/g,n.errorMessageClass),i=i.replace(/\{messages\}/g,o),e.children().eq(0).before(i)};t.fn.validateOnBlur=function(e,a){return this.find("*[data-validation]").bind("blur.validation",function(){t(this).validateInputOnBlur(e,a,!0,"blur")}),a.validateCheckboxRadioOnClick&&this.find("input[type=checkbox][data-validation],input[type=radio][data-validation]").bind("click.validation",function(){t(this).validateInputOnBlur(e,a,!0,"click")}),this},t.fn.validateOnEvent=function(e,a){return this.find("*[data-validation-event]").each(function(){var r=t(this),n=r.valAttr("event");n&&r.unbind(n+".validation").bind(n+".validation",function(){t(this).validateInputOnBlur(e,a,!0,n)})}),this},t.fn.showHelpOnFocus=function(e){return e||(e="data-validation-help"),this.find(".has-help-txt").valAttr("has-keyup-event",!1).removeClass("has-help-txt"),this.find("textarea,input").each(function(){var a=t(this),r="jquery_form_help_"+(a.attr("name")||"").replace(/(:|\.|\[|\])/g,""),n=a.attr(e);n&&a.addClass("has-help-txt").unbind("focus.help").bind("focus.help",function(){var e=a.parent().find("."+r);0==e.length&&(e=t("<span />").addClass(r).addClass("help").addClass("help-block").text(n).hide(),a.after(e)),e.fadeIn()}).unbind("blur.help").bind("blur.help",function(){t(this).parent().find("."+r).fadeOut("slow")})}),this},t.fn.validateInputOnBlur=function(e,a,s,l){if(t.formUtils.eventType=l,(this.valAttr("suggestion-nr")||this.valAttr("postpone")||this.hasClass("hasDatepicker"))&&!window.postponedValidation){var d=this,u=this.valAttr("postpone")||200;return window.postponedValidation=function(){d.validateInputOnBlur(e,a,s,l),window.postponedValidation=!1},setTimeout(function(){window.postponedValidation&&window.postponedValidation()},u),this}e=t.extend({},t.formUtils.LANG,e||{}),i(this,a);var c=this,g=c.closest("form"),f=(c.attr(a.validationRuleAttribute),t.formUtils.validateInput(c,e,a,g,l));return f.isValid?f.shouldChangeDisplay&&(c.addClass("valid"),r(c).addClass(a.inputParentClassOnSuccess)):f.isValid||(n(c,a),o(c,f.errorMsg,a,a.errorMessagePosition),s&&c.unbind("keyup.validation").bind("keyup.validation",function(){t(this).validateInputOnBlur(e,a,!1,"keyup")})),this},t.fn.valAttr=function(e,t){return void 0===t?this.attr("data-validation-"+e):t===!1||null===t?this.removeAttr("data-validation-"+e):(e.length>0&&(e="-"+e),this.attr("data-validation"+e,t))},t.fn.isValid=function(e,l,d){if(t.formUtils.isLoadingModules){var u=this;return setTimeout(function(){u.isValid(e,l,d)},200),null}l=t.extend({},t.formUtils.defaultConfig(),l||{}),e=t.extend({},t.formUtils.LANG,e||{}),d=d!==!1,t.formUtils.errorDisplayPreventedWhenHalted&&(delete t.formUtils.errorDisplayPreventedWhenHalted,d=!1),t.formUtils.isValidatingEntireForm=!0,t.formUtils.haltValidation=!1;var c=function(e,a){t.inArray(e,f)<0&&f.push(e),h.push(a),a.attr("current-error",e),d&&n(a,l)},g=[],f=[],h=[],m=this,v=function(e,a){return"submit"===a||"button"===a||"reset"==a?!0:t.inArray(e,l.ignore||[])>-1};if(d&&(m.find("."+l.errorMessageClass+".alert").remove(),i(m.find("."+l.errorElementClass+",.valid"),l)),m.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var a=t(this),n=a.attr("type"),i="radio"==n||"checkbox"==n,o=a.attr("name");if(!v(o,n)&&(!i||t.inArray(o,g)<0)){i&&g.push(o);var s=t.formUtils.validateInput(a,e,l,m,"submit");s.shouldChangeDisplay&&(s.isValid?s.isValid&&(a.valAttr("current-error",!1).addClass("valid"),r(a).addClass(l.inputParentClassOnSuccess)):c(s.errorMsg,a))}}),"function"==typeof l.onValidate){var p=l.onValidate(m);t.isArray(p)?t.each(p,function(e,t){c(t.message,t.element)}):p&&p.element&&p.message&&c(p.message,p.element)}return t.formUtils.isValidatingEntireForm=!1,!t.formUtils.haltValidation&&h.length>0?(d&&("top"===l.errorMessagePosition?s(m,e.errorTitle,f,l):"custom"===l.errorMessagePosition?"function"==typeof l.errorMessageCustom&&l.errorMessageCustom(m,e.errorTitle,f,l):t.each(h,function(e,t){o(t,t.attr("current-error"),l,l.errorMessagePosition)}),l.scrollToTopOnError&&a.scrollTop(m.offset().top-20)),!1):(!d&&t.formUtils.haltValidation&&(t.formUtils.errorDisplayPreventedWhenHalted=!0),!t.formUtils.haltValidation)},t.fn.validateForm=function(e,t){return window.console&&"function"==typeof window.console.warn&&window.console.warn("Use of deprecated function $.validateForm, use $.isValid instead"),this.isValid(e,t,!0)},t.fn.restrictLength=function(e){return new t.formUtils.lengthRestriction(this,e),this},t.fn.addSuggestions=function(e){var a=!1;return this.find("input").each(function(){var r=t(this);a=t.split(r.attr("data-suggestions")),a.length>0&&!r.hasClass("has-suggestions")&&(t.formUtils.suggest(r,a,e),r.addClass("has-suggestions"))}),this},t.split=function(e,a){if("function"!=typeof a){if(!e)return[];var r=[];return t.each(e.split(a?a:/[,|\-\s]\s*/g),function(e,a){a=t.trim(a),a.length&&r.push(a)}),r}e&&t.each(e.split(/[,|\-\s]\s*/g),function(e,r){return r=t.trim(r),r.length?a(r,e):void 0})},t.validate=function(e){var r=t.extend(t.formUtils.defaultConfig(),{form:"form",validateOnEvent:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1,onElementValidate:!1});if(e=t.extend(r,e||{}),e.lang&&"en"!=e.lang){var n="lang/"+e.lang+".js";e.modules+=e.modules.length?","+n:n}t(e.form).each(function(r,n){var o=t(n);a.trigger("formValidationSetup",[o,e]),o.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation"),o.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation"),o.bind("submit.validation",function(){var a=t(this);if(t.formUtils.haltValidation)return!1;if(t.formUtils.isLoadingModules)return setTimeout(function(){a.trigger("submit.validation")},200),!1;var r=a.isValid(e.language,e);if(t.formUtils.haltValidation)return!1;if(!r||"function"!=typeof e.onSuccess)return r||"function"!=typeof e.onError?r:(e.onError(a),!1);var n=e.onSuccess(a);return n===!1?!1:void 0}).bind("reset.validation",function(){t(this).find("."+e.errorMessageClass+".alert").remove(),i(t(this).find("."+e.errorElementClass+",.valid"),e)}).addClass("has-validation-callback"),e.showHelpOnFocus&&o.showHelpOnFocus(),e.addSuggestions&&o.addSuggestions(),e.validateOnBlur&&(o.validateOnBlur(e.language,e),o.bind("html5ValidationAttrsFound",function(){o.validateOnBlur(e.language,e)})),e.validateOnEvent&&o.validateOnEvent(e.language,e)}),""!=e.modules&&t.formUtils.loadModules(e.modules,!1,function(){"function"==typeof e.onModulesLoaded&&e.onModulesLoaded(),a.trigger("validatorsLoaded",["string"==typeof e.form?t(e.form):e.form,e])})},t.formUtils={defaultConfig:function(){return{form:"form",validateOnEvent:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1,onElementValidate:!1,ignore:[],errorElementClass:"error",borderColorOnError:"#b94a48",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"element",errorMessageTemplate:{container:'<div class="{errorMessageClass} alert alert-danger">{messages}</div>',messages:"<strong>{errorTitle}</strong><ul>{fields}</ul>",field:"<li>{msg}</li>"},errorMessageCustom:s,scrollToTopOnError:!0,dateFormat:"yyyy-mm-dd",addValidClassOnAll:!1,decimalSeparator:".",inputParentClassOnError:"has-error",inputParentClassOnSuccess:"has-success"}},validators:{},_events:{load:[],valid:[],invalid:[]},haltValidation:!1,isValidatingEntireForm:!1,addValidator:function(e){var t=0===e.name.indexOf("validate_")?e.name:"validate_"+e.name;void 0===e.validateOnKeyUp&&(e.validateOnKeyUp=!0),this.validators[t]=e},isLoadingModules:!1,loadedModules:{},loadModules:function(e,r,n){if(void 0===n&&(n=!0),t.formUtils.isLoadingModules)return void setTimeout(function(){t.formUtils.loadModules(e,r,n)});var i=!1,o=function(e,r){var o=t.split(e),s=o.length,l=function(){s--,0==s&&(t.formUtils.isLoadingModules=!1,n&&i&&("function"==typeof n?n():a.trigger("validatorsLoaded")))};s>0&&(t.formUtils.isLoadingModules=!0);var d="?_="+(new Date).getTime(),u=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];t.each(o,function(e,a){if(a=t.trim(a),0==a.length)l();else{var n=r+a+(".js"==a.slice(-3)?"":".js"),o=document.createElement("SCRIPT");n in t.formUtils.loadedModules?l():(t.formUtils.loadedModules[n]=1,i=!0,o.type="text/javascript",o.onload=l,o.src=n+(".dev.js"==n.slice(-7)?d:""),o.onerror=function(){"console"in window&&window.console.log&&window.console.log("Unable to load form validation module "+n)},o.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(l(),this.onload=null,this.onreadystatechange=null)},u.appendChild(o))}})};if(r)o(e,r);else{var s=function(){var a=!1;return t('script[src*="form-validator"]').each(function(){return a=this.src.substr(0,this.src.lastIndexOf("/"))+"/","/"==a&&(a=""),!1}),a!==!1?(o(e,a),!0):!1};s()||t(s)}},validateInput:function(e,a,r,n,i){e.trigger("beforeValidation");var o=t.trim(e.val()||""),s={isValid:!0,shouldChangeDisplay:!0,errorMsg:""},l=e.valAttr("optional"),d=!1,u=!1,c=!1,g=e.valAttr("if-checked");if(e.attr("disabled"))return s.shouldChangeDisplay=!1,s;if(null!=g&&(d=!0,c=n.find('input[name="'+g+'"]'),c.prop("checked")&&(u=!0)),!o&&"true"===l||d&&!u)return s.shouldChangeDisplay=r.addValidClassOnAll,s;var f=e.attr(r.validationRuleAttribute),h=!0;return f?(t.split(f,function(s){0!==s.indexOf("validate_")&&(s="validate_"+s);var l=t.formUtils.validators[s];if(!l||"function"!=typeof l.validatorFunction)throw new Error('Using undefined validator "'+s+'"');"validate_checkbox_group"==s&&(e=n.find("[name='"+e.attr("name")+"']:eq(0)"));var d=null;return("keyup"!=i||l.validateOnKeyUp)&&(d=l.validatorFunction(o,e,r,a,n)),d?void 0:(h=null,null!==d&&(h=e.attr(r.validationErrorMsgAttribute+"-"+s.replace("validate_","")),h||(h=e.attr(r.validationErrorMsgAttribute),h||(h=a[l.errorMessageKey],h||(h=l.errorMessage)))),!1)}," "),"string"==typeof h?(e.trigger("validation",!1),s.errorMsg=h,s.isValid=!1,s.shouldChangeDisplay=!0):null===h?s.shouldChangeDisplay=r.addValidClassOnAll:(e.trigger("validation",!0),s.shouldChangeDisplay=!0),"function"==typeof r.onElementValidate&&null!==s&&r.onElementValidate(s.isValid,e,n,h),s):(s.shouldChangeDisplay=r.addValidClassOnAll,s)},parseDate:function(e,a){var r,n,i,o,s=a.replace(/[a-zA-Z]/gi,"").substring(0,1),l="^",d=a.split(s||null);if(t.each(d,function(e,t){l+=(e>0?"\\"+s:"")+"(\\d{"+t.length+"})"}),l+="$",r=e.match(new RegExp(l)),null===r)return!1;var u=function(e,a,r){for(var n=0;n<a.length;n++)if(a[n].substring(0,1)===e)return t.formUtils.parseDateInt(r[n+1]);return-1};return i=u("m",d,r),n=u("d",d,r),o=u("y",d,r),2===i&&n>28&&(o%4!==0||o%100===0&&o%400!==0)||2===i&&n>29&&(o%4===0||o%100!==0&&o%400===0)||i>12||0===i?!1:this.isShortMonth(i)&&n>30||!this.isShortMonth(i)&&n>31||0===n?!1:[o,i,n]},parseDateInt:function(e){return 0===e.indexOf("0")&&(e=e.replace("0","")),parseInt(e,10)},isShortMonth:function(e){return e%2===0&&7>e||e%2!==0&&e>7},lengthRestriction:function(e,a){var r=parseInt(a.text(),10),n=0,i=function(){var t=e.val().length;if(t>r){var i=e.scrollTop();e.val(e.val().substring(0,r)),e.scrollTop(i)}n=r-t,0>n&&(n=0),a.text(n)};t(e).bind("keydown keyup keypress focus blur",i).bind("cut paste",function(){setTimeout(i,100)}),t(document).bind("ready",i)},numericRangeCheck:function(e,a){var r=t.split(a),n=parseInt(a.substr(3),10);return 1==r.length&&-1==a.indexOf("min")&&-1==a.indexOf("max")&&(r=[a,a]),2==r.length&&(e<parseInt(r[0],10)||e>parseInt(r[1],10))?["out",r[0],r[1]]:0===a.indexOf("min")&&n>e?["min",n]:0===a.indexOf("max")&&e>n?["max",n]:["ok"]},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function(e,r,n){var i={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},o=function(e,t){var a=t.offset();e.css({width:t.outerWidth(),left:a.left+"px",top:a.top+t.outerHeight()+"px"})};n&&t.extend(i,n),i.css.position="absolute",i.css["z-index"]=9999,e.attr("autocomplete","off"),0===this._numSuggestionElements&&a.bind("resize",function(){t(".jquery-form-suggestions").each(function(){var e=t(this),a=e.attr("data-suggest-container");o(e,t(".suggestions-"+a).eq(0))})}),this._numSuggestionElements++;var s=function(e){var a=e.valAttr("suggestion-nr");t.formUtils._selectedSuggestion=null,t.formUtils._previousTypedVal=null,t(".jquery-form-suggestion-"+a).fadeOut("fast")};return e.data("suggestions",r).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){t(this).trigger("keyup"),t.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var a=t(this),r=[],n=t.trim(a.val()).toLocaleLowerCase();if(n!=t.formUtils._previousTypedVal){t.formUtils._previousTypedVal=n;var l=!1,d=a.valAttr("suggestion-nr"),u=t(".jquery-form-suggestion-"+d);if(u.scrollTop(0),""!=n){var c=n.length>2;t.each(a.data("suggestions"),function(e,t){var a=t.toLocaleLowerCase();return a==n?(r.push("<strong>"+t+"</strong>"),l=!0,!1):void((0===a.indexOf(n)||c&&a.indexOf(n)>-1)&&r.push(t.replace(new RegExp(n,"gi"),"<strong>$&</strong>")))})}l||0==r.length&&u.length>0?u.hide():r.length>0&&0==u.length?(u=t("<div></div>").css(i.css).appendTo("body"),e.addClass("suggestions-"+d),u.attr("data-suggest-container",d).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+d)):r.length>0&&!u.is(":visible")&&u.show(),r.length>0&&n.length!=r[0].length&&(o(u,a),u.html(""),t.each(r,function(e,r){t("<div></div>").append(r).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo(u).click(function(){a.focus(),a.val(t(this).text()),s(a)})}))}}).unbind("keydown.validation").bind("keydown.validation",function(e){var a,r,n=e.keyCode?e.keyCode:e.which,o=t(this);if(13==n&&null!==t.formUtils._selectedSuggestion){if(a=o.valAttr("suggestion-nr"),r=t(".jquery-form-suggestion-"+a),r.length>0){var l=r.find("div").eq(t.formUtils._selectedSuggestion).text();o.val(l),s(o),e.preventDefault()}}else{a=o.valAttr("suggestion-nr"),r=t(".jquery-form-suggestion-"+a);var d=r.children();if(d.length>0&&t.inArray(n,[38,40])>-1){38==n?(null===t.formUtils._selectedSuggestion?t.formUtils._selectedSuggestion=d.length-1:t.formUtils._selectedSuggestion--,t.formUtils._selectedSuggestion<0&&(t.formUtils._selectedSuggestion=d.length-1)):40==n&&(null===t.formUtils._selectedSuggestion?t.formUtils._selectedSuggestion=0:t.formUtils._selectedSuggestion++,t.formUtils._selectedSuggestion>d.length-1&&(t.formUtils._selectedSuggestion=0));var u=r.innerHeight(),c=r.scrollTop(),g=r.children().eq(0).outerHeight(),f=g*t.formUtils._selectedSuggestion;return(c>f||f>c+u)&&r.scrollTop(f),d.removeClass("active-suggestion").css("background","none").eq(t.formUtils._selectedSuggestion).addClass("active-suggestion").css(i.activeSuggestionCSS),e.preventDefault(),!1}}}).unbind("blur.suggest").bind("blur.suggest",function(){s(t(this))}),e},LANG:{errorTitle:"Form submission failed!",requiredFields:"You have not answered all required fields",badTime:"You have not given a correct time",badEmail:"You have not given a correct e-mail address",badTelephone:"You have not given a correct phone number",badSecurityAnswer:"You have not given a correct answer to the security question",badDate:"You have not given a correct date",lengthBadStart:"The input value must be between ",lengthBadEnd:" characters",lengthTooLongStart:"The input value is longer than ",lengthTooShortStart:"The input value is shorter than ",notConfirmed:"Input values could not be confirmed",badDomain:"Incorrect domain value",badUrl:"The input value is not a correct URL",badCustomVal:"The input value is incorrect",andSpaces:" and spaces ",badInt:"The input value was not a correct number",badSecurityNumber:"Your social security number was incorrect",badUKVatAnswer:"Incorrect UK VAT Number",badStrength:"The password isn't strong enough",badNumberOfSelectedOptionsStart:"You have to choose at least ",badNumberOfSelectedOptionsEnd:" answers",badAlphaNumeric:"The input value can only contain alphanumeric characters ",badAlphaNumericExtra:" and ",wrongFileSize:"The file you are trying to upload is too large (max %s)",wrongFileType:"Only files of type %s is allowed",groupCheckedRangeStart:"Please choose between ",groupCheckedTooFewStart:"Please choose at least ",groupCheckedTooManyStart:"Please choose a maximum of ",groupCheckedEnd:" item(s)",badCreditCard:"The credit card number is not correct",badCVV:"The CVV number was not correct",wrongFileDim:"Incorrect image dimensions,",imageTooTall:"the image can not be taller than",imageTooWide:"the image can not be wider than",imageTooSmall:"the image was too small",min:"min",max:"max",imageRatioNotAccepted:"Image ratio is not be accepted"}},t.formUtils.addValidator({name:"email",validatorFunction:function(e){if(!e)return!0;var a=e.toLowerCase().split("@");return 2==a.length?t.formUtils.validators.validate_domain.validatorFunction(a[1])&&!/[^\w\+\.\-]/.test(a[0])&&a[0].length>0:!1},errorMessage:"",errorMessageKey:"badEmail"}),t.formUtils.addValidator({name:"domain",validatorFunction:function(e){return e?e.length>0&&e.length<=253&&!/[^a-zA-Z0-9]/.test(e.slice(-2))&&!/[^a-zA-Z0-9]/.test(e.substr(0,1))&&!/[^a-zA-Z0-9\.\-]/.test(e)&&1==e.split("..").length&&e.split(".").length>1:!0},errorMessage:"",errorMessageKey:"badDomain"}),t.formUtils.addValidator({name:"required",validatorFunction:function(e,a,r,n,i){switch(a.attr("type")){case"checkbox":return a.is(":checked");case"radio":return i.find('input[name="'+a.attr("name")+'"]').filter(":checked").length>0;default:return""!==t.trim(e)}},errorMessage:"",errorMessageKey:"requiredFields"}),t.formUtils.addValidator({name:"length",validatorFunction:function(e,a,r,n){var i=a.valAttr("length"),o=a.attr("type");if(void 0==i)return alert('Please add attribute "data-validation-length" to '+a[0].nodeName+" named "+a.attr("name")),!0;var s,l="file"==o&&void 0!==a.get(0).files?a.get(0).files.length:e.length,d=t.formUtils.numericRangeCheck(l,i);switch(d[0]){case"out":this.errorMessage=n.lengthBadStart+i+n.lengthBadEnd,s=!1;break;case"min":this.errorMessage=n.lengthTooShortStart+d[1]+n.lengthBadEnd,s=!1;break;case"max":this.errorMessage=n.lengthTooLongStart+d[1]+n.lengthBadEnd,s=!1;break;default:s=!0}return s},errorMessage:"",errorMessageKey:""}),t.formUtils.addValidator({name:"url",validatorFunction:function(e){if(!e)return!0;var a=/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;if(a.test(e)){var r=e.split("://")[1],n=r.indexOf("/");return n>-1&&(r=r.substr(0,n)),t.formUtils.validators.validate_domain.validatorFunction(r)}return!1},errorMessage:"",errorMessageKey:"badUrl"}),t.formUtils.addValidator({name:"number",validatorFunction:function(e,t,a){if("undefined"==typeof e||""==e||null==e)return!0;if(""!==e){var r,n,i=t.valAttr("allowing")||"",o=t.valAttr("decimal-separator")||a.decimalSeparator,s=!1,l=t.valAttr("step")||"",d=!1;if(-1==i.indexOf("number")&&(i+=",number"),-1==i.indexOf("negative")&&0===e.indexOf("-"))return!1;if(i.indexOf("range")>-1&&(r=parseFloat(i.substring(i.indexOf("[")+1,i.indexOf(";"))),n=parseFloat(i.substring(i.indexOf(";")+1,i.indexOf("]"))),s=!0),""!=l&&(d=!0),","==o){if(e.indexOf(".")>-1)return!1;e=e.replace(",",".")}if(i.indexOf("number")>-1&&""===e.replace(/[0-9-]/g,"")&&(!s||e>=r&&n>=e)&&(!d||e%l==0))return!0;if(i.indexOf("float")>-1&&null!==e.match(new RegExp("^([0-9-]+)\\.([0-9]+)$"))&&(!s||e>=r&&n>=e)&&(!d||e%l==0))return!0}return!1},errorMessage:"",errorMessageKey:"badInt"}),t.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(e,a,r,n){if(!e)return!0;var i="^([a-zA-Z0-9",o="]+)$",s=a.valAttr("allowing"),l="";if(s){l=i+s+o;var d=s.replace(/\\/g,"");d.indexOf(" ")>-1&&(d=d.replace(" ",""),d+=n.andSpaces||t.formUtils.LANG.andSpaces),this.errorMessage=n.badAlphaNumeric+n.badAlphaNumericExtra+d}else l=i+o,this.errorMessage=n.badAlphaNumeric;return new RegExp(l).test(e)},errorMessage:"",errorMessageKey:""}),t.formUtils.addValidator({name:"custom",validatorFunction:function(e,t){if(!e)return!0;var a=new RegExp(t.valAttr("regexp"));return a.test(e)},errorMessage:"",errorMessageKey:"badCustomVal"}),t.formUtils.addValidator({name:"date",validatorFunction:function(e,a,r){if(!e)return!0;var n=a.valAttr("format")||r.dateFormat||"yyyy-mm-dd";return t.formUtils.parseDate(e,n)!==!1},errorMessage:"",errorMessageKey:"badDate"}),t.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(e,a,r,n,i){var o=!0,s=a.attr("name"),l=t("input[type=checkbox][name^='"+s+"']",i),d=l.filter(":checked").length,u=a.valAttr("qty");if(void 0==u){var c=a.get(0).nodeName;alert('Attribute "data-validation-qty" is missing from '+c+" named "+a.attr("name"))}var g=t.formUtils.numericRangeCheck(d,u);switch(g[0]){case"out":this.errorMessage=n.groupCheckedRangeStart+u+n.groupCheckedEnd,o=!1;break;case"min":this.errorMessage=n.groupCheckedTooFewStart+g[1]+n.groupCheckedEnd,o=!1;break;case"max":this.errorMessage=n.groupCheckedTooManyStart+g[1]+n.groupCheckedEnd,o=!1;break;default:o=!0}if(!o);return o}})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/jquery.form-validator__4e6ea4d.map
;define("component:components/jquery-form-validator/lib/jquery.form-validator.zh-CN.js",function(e){e("component:components/jquery-form-validator/lib/jquery.form-validator.js");var r=e("component:components/jquery/jquery.js");r.formUtils.LANG=r.extend(r.formUtils.LANG,{errorTitle:"数据提交失败",requiredFields:"必填项目",badTime:"请填写正确的时间",badEmail:"请填写正确的E-Mail地址",badTelephone:"请填写正确的电话号码",badSecurityAnswer:"安全问题验证失败",badDate:"请填写正确的日期",lengthBadStart:"您填写的数据长度应在 ",lengthBadEnd:" 个字符",lengthTooLongStart:"您填写的数据超过最大长度，最大长度为 ",lengthTooShortStart:"您填写的数据未达到最小长度，最小长度为 ",badLength:"您填写的数据长度应在 ",notConfirmed:"数据验证失败",badDomain:"请填写正确的域名",badUrl:"请填写正确的URL信息",badCustomVal:"请填写符合要求的正确信息",badInt:"请填写正确的数字",badSecurityNumber:"您的安全验证码错误",badUKVatAnswer:"Incorrect UK VAT Number",badStrength:"密码强度未达到要求，请重新输入",badNumberOfSelectedOptionsStart:"您需要选择至少 ",badNumberOfSelectedOptionsEnd:" 个选项",badAlphaNumeric:"数据必须仅包含阿拉伯字母[A-Za-z] ",badAlphaNumericExtra:" 并且 ",wrongFileSize:"您上传的文件过大",wrongFileType:"您上传的文件不符合规定的文件格式",groupCheckedRangeStart:"请选则 ",groupCheckedTooFewStart:"请选择至少 ",groupCheckedTooManyStart:"请选择至多 ",groupCheckedEnd:" 个项目"})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/jquery.form-validator.zh-CN__fa33363.map
;define("component:components/jquery-form-validator/lib/jsconf.dev.js",function(a){"use strict";var n=a("component:components/jquery/jquery.js");n.setupValidation=function(a){var t=n(a.form||"form");n.each(a.validate||a.validation||{},function(a,o){var i;i="#"==a[0]?n(a):t.find("."==a[0]?a:'*[name="'+a+'"]'),i.attr("data-validation",o.validation),n.each(o,function(a,n){"validation"!=a&&n!==!1&&(n===!0&&(n="true"),i.valAttr(a,n))})}),n.validate(a)}});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/jsconf.dev__7980c1b.map
;define("component:components/jquery-form-validator/lib/location.dev.js",function(a){"use strict";var n=a("component:components/jquery/jquery.js");n.formUtils.addValidator({name:"country",validatorFunction:function(a){return n.inArray(a.toLowerCase(),this.countries)>-1},countries:["afghanistan","albania","algeria","american samoa","andorra","angola","anguilla","antarctica","antigua and barbuda","arctic ocean","argentina","armenia","aruba","ashmore and cartier islands","atlantic ocean","australia","austria","azerbaijan","bahamas","bahrain","baltic sea","baker island","bangladesh","barbados","bassas da india","belarus","belgium","belize","benin","bermuda","bhutan","bolivia","borneo","bosnia and herzegovina","botswana","bouvet island","brazil","british virgin islands","brunei","bulgaria","burkina faso","burundi","cambodia","cameroon","canada","cape verde","cayman islands","central african republic","chad","chile","china","christmas island","clipperton island","cocos islands","colombia","comoros","cook islands","coral sea islands","costa rica","croatia","cuba","cyprus","czech republic","democratic republic of the congo","denmark","djibouti","dominica","dominican republic","east timor","ecuador","egypt","el salvador","equatorial guinea","eritrea","estonia","ethiopia","europa island","falkland islands","faroe islands","fiji","finland","france","french guiana","french polynesia","french southern and antarctic lands","gabon","gambia","gaza strip","georgia","germany","ghana","gibraltar","glorioso islands","greece","greenland","grenada","guadeloupe","guam","guatemala","guernsey","guinea","guinea-bissau","guyana","haiti","heard island and mcdonald islands","honduras","hong kong","howland island","hungary","iceland","india","indian ocean","indonesia","iran","iraq","ireland","isle of man","israel","italy","jamaica","jan mayen","japan","jarvis island","jersey","johnston atoll","jordan","juan de nova island","kazakhstan","kenya","kerguelen archipelago","kingman reef","kiribati","kosovo","kuwait","kyrgyzstan","laos","latvia","lebanon","lesotho","liberia","libya","liechtenstein","lithuania","luxembourg","macau","macedonia","madagascar","malawi","malaysia","maldives","mali","malta","marshall islands","martinique","mauritania","mauritius","mayotte","mediterranean sea","mexico","micronesia","midway islands","moldova","monaco","mongolia","montenegro","montserrat","morocco","mozambique","myanmar","namibia","nauru","navassa island","nepal","netherlands","netherlands antilles","new caledonia","new zealand","nicaragua","niger","nigeria","niue","norfolk island","north korea","north sea","northern mariana islands","norway","oman","pacific ocean","pakistan","palau","palmyra atoll","panama","papua new guinea","paracel islands","paraguay","peru","philippines","pitcairn islands","poland","portugal","puerto rico","qatar","republic of the congo","reunion","romania","ross sea","russia","rwanda","saint helena","saint kitts and nevis","saint lucia","saint pierre and miquelon","saint vincent and the grenadines","samoa","san marino","sao tome and principe","saudi arabia","senegal","serbia","seychelles","sierra leone","singapore","slovakia","slovenia","solomon islands","somalia","south africa","south georgia and the south sandwich islands","south korea","southern ocean","spain","spratly islands","sri lanka","sudan","suriname","svalbard","swaziland","sweden","switzerland","syria","taiwan","tajikistan","tanzania","tasman sea","thailand","togo","tokelau","tonga","trinidad and tobago","tromelin island","tunisia","turkey","turkmenistan","turks and caicos islands","tuvalu","uganda","ukraine","united arab emirates","united kingdom","uruguay","usa","uzbekistan","vanuatu","venezuela","viet nam","virgin islands","wake island","wallis and futuna","west bank","western sahara","yemen","zambia","zimbabwe"],errorMessage:"",errorMessageKey:"badCustomVal"}),n.formUtils.addValidator({name:"federatestate",validatorFunction:function(a){return n.inArray(a.toLowerCase(),this.states)>-1},states:["alabama","alaska","arizona","arkansas","california","colorado","connecticut","delaware","florida","georgia","hawaii","idaho","illinois","indiana","iowa","kansas","kentucky","louisiana","maine","maryland","district of columbia","massachusetts","michigan","minnesota","mississippi","missouri","montana","nebraska","nevada","new hampshire","new jersey","new mexico","new york","north carolina","north dakota","ohio","oklahoma","oregon","pennsylvania","rhode island","south carolina","south dakota","tennessee","texas","utah","vermont","virginia","washington","west virginia","wisconsin","wyoming"],errorMessage:"",errorMessageKey:"badCustomVal"}),n.formUtils.addValidator({name:"longlat",validatorFunction:function(a){var n=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/;return n.test(a)},errorMessage:"",errorMessageKey:"badCustomVal"});var i=function(a){var i=[];return n.each(a,function(a,n){i.push(n.substr(0,1).toUpperCase()+n.substr(1,n.length))}),i.sort(),i};n.fn.suggestCountry=function(a){var e=i(n.formUtils.validators.validate_country.countries);return n.formUtils.suggest(this,e,a)},n.fn.suggestState=function(a){var e=i(n.formUtils.validators.validate_federatestate.states);return n.formUtils.suggest(this,e,a)}});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/location.dev__eccf70a.map
;define("component:components/jquery-form-validator/lib/security.dev.js",function(e){"use strict";var r=e("component:components/jquery/jquery.js");r.formUtils.addValidator({name:"spamcheck",validatorFunction:function(e,r){var a=r.valAttr("captcha");return a===e},errorMessage:"",errorMessageKey:"badSecurityAnswer"}),r.formUtils.addValidator({name:"confirmation",validatorFunction:function(e,r,a,t,n){var i="",s=r.valAttr("confirm")||r.attr("name")+"_confirmation",l=n.find('input[name="'+s+'"]').eq(0);return l&&(i=l.val()),e===i},errorMessage:"",errorMessageKey:"notConfirmed"});var a={amex:[15,15],diners_club:[14,14],cjb:[16,16],laser:[16,19],visa:[16,16],mastercard:[16,16],maestro:[12,19],discover:[16,16]},t=!1,n=!1;r.formUtils.addValidator({name:"creditcard",validatorFunction:function(e,i){var s=r.split(i.valAttr("allowing")||"");if(n=r.inArray("amex",s)>-1,t=n&&1==s.length,s.length>0){var l=!1;if(r.each(s,function(r,t){if(t in a){if(e.length>=a[t][0]&&e.length<=a[t][1])return l=!0,!1}else window.console}),!l)return!1}if(""!==e.replace(new RegExp("[0-9]","g"),""))return!1;var o=0;return r.each(e.split("").reverse(),function(e,r){r=parseInt(r,10),e%2===0?o+=r:(r*=2,o+=10>r?r:r-9)}),o%10===0},errorMessage:"",errorMessageKey:"badCreditCard"}),r.formUtils.addValidator({name:"cvv",validatorFunction:function(e){return""===e.replace(/[0-9]/g,"")?(e+="",t?4==e.length:n?3==e.length||4==e.length:3==e.length):!1},errorMessage:"",errorMessageKey:"badCVV"}),r.formUtils.addValidator({name:"strength",validatorFunction:function(e,a){var t=a.valAttr("strength")||2;return t&&t>3&&(t=3),r.formUtils.validators.validate_strength.calculatePasswordStrength(e)>=t},errorMessage:"",errorMessageKey:"badStrength",calculatePasswordStrength:function(e){if(e.length<4)return 0;var r=0,a=function(e,r){for(var a="",t=0;t<r.length;t++){for(var n=!0,i=0;e>i&&i+t+e<r.length;i++)n=n&&r.charAt(i+t)==r.charAt(i+t+e);e>i&&(n=!1),n?(t+=e-1,n=!1):a+=r.charAt(t)}return a};return r+=4*e.length,r+=1*(a(1,e).length-e.length),r+=1*(a(2,e).length-e.length),r+=1*(a(3,e).length-e.length),r+=1*(a(4,e).length-e.length),e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(r+=5),e.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(r+=5),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(r+=10),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(r+=15),e.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&e.match(/([0-9])/)&&(r+=15),e.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&e.match(/([a-zA-Z])/)&&(r+=15),(e.match(/^\w+$/)||e.match(/^\d+$/))&&(r-=10),0>r&&(r=0),r>100&&(r=100),20>r?0:40>r?1:60>=r?2:3},strengthDisplay:function(e,a){var t={fontSize:"12pt",padding:"4px",bad:"Very bad",weak:"Weak",good:"Good",strong:"Strong"};a&&r.extend(t,a),e.bind("keyup",function(){var e=r(this).val(),a="undefined"==typeof t.parent?r(this).parent():r(t.parent),n=a.find(".strength-meter"),i=r.formUtils.validators.validate_strength.calculatePasswordStrength(e),s={background:"pink",color:"#FF0000",fontWeight:"bold",border:"red solid 1px",borderWidth:"0px 0px 4px",display:"inline-block",fontSize:t.fontSize,padding:t.padding},l=t.bad;0==n.length&&(n=r("<span></span>"),n.addClass("strength-meter").appendTo(a)),e?n.show():n.hide(),1==i?l=t.weak:2==i?(s.background="lightyellow",s.borderColor="yellow",s.color="goldenrod",l=t.good):i>=3&&(s.background="lightgreen",s.borderColor="darkgreen",s.color="darkgreen",l=t.strong),n.css(s).text(l)})}});var i=function(e,a,t,n,i){var s=a.valAttr("req-params")||a.data("validation-req-params")||{},l=function(e,t){e.valid?a.valAttr("backend-valid","true"):(a.valAttr("backend-invalid","true"),e.message&&a.attr(n.validationErrorMsgAttribute,e.message)),a.valAttr("has-keyup-event")||a.valAttr("has-keyup-event","1").bind("keyup change",function(e){9!=e.keyCode&&16!=e.keyCode&&r(this).valAttr("backend-valid",!1).valAttr("backend-invalid",!1)}),t()};s||(s={}),"string"==typeof s&&(s=r.parseJSON(s)),s[a.valAttr("param-name")||a.attr("name")]=t,r.ajax({url:e,type:"POST",cache:!1,data:s,dataType:"json",error:function(e){return l({valid:!1,message:"Connection failed with status: "+e.statusText},i),!1},success:function(e){l(e,i)}})},s=function(){return!1};r.formUtils.addValidator({name:"server",validatorFunction:function(e,a,t,n,l){var o=a.valAttr("backend-valid"),d=a.valAttr("backend-invalid"),c=document.location.href;return a.valAttr("url")?c=a.valAttr("url"):"serverURL"in t&&(c=t.backendUrl),o?!0:d?!1:"keyup"==r.formUtils.eventType?null:r.formUtils.isValidatingEntireForm?(l.bind("submit",s).addClass("validating-server-side").addClass("on-blur"),a.addClass("validating-server-side"),r.formUtils.haltValidation=!0,i(c,a,e,t,function(){l.removeClass("validating-server-side").removeClass("on-blur").get(0).onsubmit=function(){},l.unbind("submit",s),a.removeClass("validating-server-side"),a.valAttr("value-length",e.length),r.formUtils.haltValidation=!1,l.trigger("submit")}),null):(l.addClass("validating-server-side"),a.addClass("validating-server-side"),i(c,a,e,t,function(){l.removeClass("validating-server-side"),a.removeClass("validating-server-side"),a.trigger("blur")}),null)},errorMessage:"",errorMessageKey:"badBackend",validateOnKeyUp:!1}),r.formUtils.addValidator({name:"letternumeric",validatorFunction:function(e,a,t,n){var i="^([a-zA-Z0-9ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",s="]+)$",l=a.valAttr("allowing"),o="";if(l){o=i+l+s;var d=l.replace(/\\/g,"");d.indexOf(" ")>-1&&(d=d.replace(" ",""),d+=n.andSpaces||r.formUtils.LANG.andSpaces),this.errorMessage=n.badAlphaNumeric+n.badAlphaNumericExtra+d}else o=i+s,this.errorMessage=n.badAlphaNumeric;return new RegExp(o).test(e)},errorMessage:"",errorMessageKey:"requiredFields"}),r.fn.displayPasswordStrength=function(e){return new r.formUtils.validators.validate_strength.strengthDisplay(this,e),this}});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/security.dev__37618b7.map
;define("component:components/jquery-form-validator/lib/sweden.dev.js",function(r){"use strict";var a=r("component:components/jquery/jquery.js");a.formUtils.addValidator({name:"swesec",validatorFunction:function(r,e){var s,n,l,t;if(e.valAttr("use-hyphen")){if(t=r.split("-"),2!=t.length)return!1;r=t.join("")}if(!r.match(/^(\d{4})(\d{2})(\d{2})(\d{4})$/))return!1;s=RegExp.$1,n=a.formUtils.parseDateInt(RegExp.$2),l=a.formUtils.parseDateInt(RegExp.$3),window.ssnGender=parseInt(RegExp.$4.substring(2,3))%2===0?"female":"male";var o=new Array(31,28,31,30,31,30,31,31,30,31,30,31);if((s%400===0||s%4===0&&s%100!==0)&&(o[1]=29),1>n||n>12||1>l||l>o[n-1])return!1;r=r.substring(2,r.length);for(var i="",g=0;g<r.length;g++)i+=((g+1)%2+1)*r.substring(g,g+1);var d=0;for(g=0;g<i.length;g++)d+=parseInt(i.substring(g,g+1),10);return d%10===0},errorMessage:"",errorMessageKey:"badSecurityNumber"}),a.formUtils.addValidator({name:"swecounty",validatorFunction:function(r){return r=r.toLowerCase(),-1==a.inArray(r,this.counties)?"län"!=r.substr(-3).toLocaleLowerCase()?a.inArray(r+"s län",this.counties)>-1:!1:!0},errorMessage:"",errorMessageKey:"badCustomVal",counties:["stockholms län","uppsala län","södermanlands län","östergötlands län","jönköpings län","kronobergs län","kalmar län","gotlands län","blekinge län","skåne län","hallands län","västra götalands län","värmlands län","örebro län","västmanlands län","dalarnas län","gävleborgs län","västernorrlands län","jämtlands län","västerbottens län","norrbottens län"]}),a.formUtils.addValidator({name:"swemunicipality",validatorFunction:function(r){return r=r.toLowerCase(),-1==a.inArray(r,this.municipalities)?"s kommun"==r.substr(-8)&&a.inArray(r.substr(0,r.length-8),this.municipalities)>-1?!0:" kommun"==r.substr(-7)?a.inArray(r.substr(0,r.length-7),this.municipalities)>-1:!1:!0},errorMessage:"",errorMessageKey:"badCustomVal",municipalities:["ale","alingsås","alvesta","aneby","arboga","arjeplog","arvidsjaur","arvika","askersund","avesta","bengtsfors","berg","bjurholm","bjuv","boden","bollebygd","bollnäs","borgholm","borlänge","borås","botkyrka","boxholm","bromölla","bräcke","burlöv","båstad","dals-ed","danderyd","degerfors","dorotea","eda","ekerö","eksjö","emmaboda","enköpings","eskilstuna","eslövs","essunga","fagersta","falkenberg","falköping","falu","filipstad","finspång","flen","forshaga","färgelanda","gagnef","gislaved","gnesta","gnosjö","gotland","grum","grästorp","gullspång","gällivare","gävle","göteborg","götene","habo","hagfor","hallsberg","hallstahammar","halmstad","hammarö","haninge","haparanda","heby","hedemora","helsingborg","herrljunga","hjo","hofor","huddinge","hudiksvall","hultsfred","hylte","håbo","hällefor","härjedalen","härnösand","härryda","hässleholm","höganäs","högsby","hörby","höör","jokkmokk","järfälla","jönköping","kalix","kalmar","karlsborg","karlshamn","karlskoga","karlskrona","karlstad","katrineholm","kil","kinda","kiruna","klippan","knivsta","kramfors","kristianstad","kristinehamn","krokoms","kumla","kungsbacka","kungsör","kungälv","kävlinge","köping","laholm","landskrona","laxå","lekeberg","leksand","lerum","lessebo","lidingö","lidköping","lilla edets","lindesbergs","linköpings","ljungby","ljusdals","ljusnarsbergs","lomma","ludvika","luleå","lunds","lycksele","lysekil","malmö","malung-sälen","malå","mariestad","marks","markaryd","mellerud","mjölby","mora","motala","mullsjö","munkedal","munkfors","mölndal","mönsterås","mörbylånga","nacka","nora","norberg","nordanstig","nordmaling","norrköping","norrtälje","norsjö","nybro","nykvarn","nyköping","nynäshamn","nässjö","ockelbo","olofström","orsa","orust","osby","oskarshamn","ovanåker","oxelösund","pajala","partille","perstorp","piteå","ragunda","robertsfors","ronneby","rättvik","sala","salem","sandviken","sigtuna","simrishamn","sjöbo","skara","skellefteå","skinnskatteberg","skurup","skövde","smedjebacken","sollefteå","sollentuna","solna","sorsele","sotenäs","staffanstorp","stenungsund","stockholm","storfors","storuman","strängnäs","strömstad","strömsund","sundbyberg","sundsvall","sunne","surahammar","svalöv","svedala","svenljunga","säffle","säter","sävsjö","söderhamns","söderköping","södertälje","sölvesborg","tanum","tibro","tidaholm","tierp","timrå","tingsryd","tjörn","tomelilla","torsby","torså","tranemo","tranå","trelleborg","trollhättan","trosa","tyresö","täby","töreboda","uddevalla","ulricehamns","umeå","upplands väsby","upplands-bro","uppsala","uppvidinge","vadstena","vaggeryd","valdemarsvik","vallentuna","vansbro","vara","varberg","vaxholm","vellinge","vetlanda","vilhelmina","vimmerby","vindeln","vingåker","vårgårda","vänersborg","vännäs","värmdö","värnamo","västervik","västerås","växjö","ydre","ystad","åmål","ånge","åre","årjäng","åsele","åstorp","åtvidaberg","älmhult","älvdalen","älvkarleby","älvsbyn","ängelholm","öckerö","ödeshög","örebro","örkelljunga","örnsköldsvik","östersund","österåker","östhammar","östra göinge","överkalix","övertorneå"]}),a.formUtils.addValidator({name:"swephone",validatorFunction:function(r){var a=r.match(/\+/g),e=r.match(/-/g);return null!==a&&a.length>1||null!==e&&e.length>1?!1:null!==a&&0!==r.indexOf("+")?!1:(r=r.replace(/([-|\+])/g,""),r.length>8&&null===r.match(/[^0-9]/g))},errorMessage:"",errorMessageKey:"badTelephone"}),a.formUtils.addValidator({name:"swemobile",validatorFunction:function(r){if(!a.formUtils.validators.validate_swephone.validatorFunction(r))return!1;r=r.replace(/[^0-9]/g,"");var e=r.substring(0,3);return 10!=r.length&&"467"!==e?!1:11!=r.length&&"467"===e?!1:/07[0-9{1}]/.test(e)||"467"===e},errorMessage:"",errorMessageKey:"badTelephone"});var e=function(r){var e=[];return a.each(r,function(r,a){e.push(a.substr(0,1).toUpperCase()+a.substr(1,a.length))}),e.sort(),e};a.fn.suggestSwedishCounty=function(r){var s=e(a.formUtils.validators.validate_swecounty.counties);return a.formUtils.suggest(this,s,r)},a.fn.suggestSwedishMunicipality=function(r){var s=e(a.formUtils.validators.validate_swemunicipality.municipalities);return a.formUtils.suggest(this,s,r)}});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/sweden.dev__84b94b4.map
;define("component:components/jquery-form-validator/lib/toggleDisabled.dev.js",function(i){"use strict";var a=i("component:components/jquery/jquery.js"),d=function(i,a){"disabled"==a?i.find('*[type="submit"]').addClass("disabled").attr("disabled","disabled"):i.find('*[type="submit"]').removeClass("disabled").removeAttr("disabled")},e=!1;a(window).bind("validatorsLoaded formValidationSetup",function(i,o,s){var t=s.disabledFormFilter?o.filter(s.disabledFormFilter):o,r=void 0===s.showErrorDialogs||s.showErrorDialogs;t.addClass(r?"disabled-with-errors":"disabled-without-errors").find("*[data-validation]").attr("data-validation-event","keyup").on("validation",function(i,o){if(!e){e=!0;var t=a(this).closest("form");o&&t.isValid(s,s.language,!1)?d(t,"enabled"):d(t,"disabled"),e=!1}}),d(t,"disabled"),t.validateOnEvent(s.language,s)}).on("validationErrorDisplay",function(i,a,d){a.closest("form").hasClass("disabled-without-errors")&&d.hide()})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/toggleDisabled.dev__0668054.map
;define("component:components/jquery-form-validator/lib/uk.dev.js",function(r){"use strict";var e=r("component:components/jquery/jquery.js");e.formUtils.addValidator({name:"ukvatnumber",validatorFunction:function(r){if(r=r.replace(/[^0-9]/g,""),r.length<9)return!1;var e=!1,n=[];n=r.split("");var a=Number(n[7]+n[8]),o=n[0],t=n[1];if(0==o&&t>0)return!1;for(var s=0,u=0;7>u;u++)s+=n[u]*(8-u);for(var i=0,u=0,f=8;f>=2;f--)i+=n[u]*f,u++;for(;s>0;)s-=97;return s=Math.abs(s),a==s&&(e=!0),e||(s%=97,s>=55?s-=55:s+=42,s==a&&(e=!0)),e},errorMessage:"",errorMessageKey:"badUKVatAnswer"})});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/lib/uk.dev__96b490c.map
;define("component:components/jquery-form-validator/main.js",function(o){o("component:components/jquery-form-validator/lib/jquery.form-validator.js"),o("component:components/jquery-form-validator/lib/jquery.form-validator.zh-CN.js")});
//# sourceMappingURL=//bstatic.nuomi.com/bnuomi/tuanb/static/components/jquery-form-validator/main__c90abf9.map