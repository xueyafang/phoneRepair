<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
<link rel="icon" href="https://static.jianshukeji.com/highcharts/images/favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1">	 
<script src="/phoneRepair/js/highCharts/jquery-1.8.3.min.js"></script>
	<script src="/phoneRepair/js/highCharts/highcharts.js"></script>
	<script src="/phoneRepair/js/highCharts/exporting.js"></script>
	<script src="/phoneRepair/js/highCharts/data.js"></script>
	<script src="/phoneRepair/js/highCharts/drilldown.js"></script>
	<script src="/phoneRepair/js/highCharts/grid-light.js"></script>
</head>
<body>
<!--
*************************************************************************
   Generated by HCODE at 2017-10-15 18:35:56
   From: https://code.hcharts.cn/demos/hhhhDQ?hc-theme=grid-light
*************************************************************************
 -->
	<div id="container" style="min-width:400px;height:400px"></div>

	<script>
	$(function () {
		
    $('#container').highcharts({
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        title: {
            text: '各省份商家占总商家的百分比'
        },
        tooltip: {
            pointFormat: '{point.percentage:.1f}%</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: false
                },
                showInLegend: true
            }
        },
        series: [{
        	type:"pie"
        }]
    });
   var arr = [];
    $.ajax({
   		url:"/phoneRepair/pie",
   		dataType:"json",
   		error:function(){
   			alert("ajax出错");
   		},
   		success:function(data){
   			$.each(data,function(i,dad){
   					var arr1 = new Array();
   	   				arr1 = dad.split(" ");
   	   				arr.push({"name":arr1[0],"y":+arr1[1]});
   					
   			});
   			$('#container').highcharts().series[0].setData(arr); 
   		}
   	}); 
});
</script>
</body>
</html>